(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9519)}])},9519:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return aC}});var a,t,o,c,l,s,d,i,u,f,p,b,g,m=n(5893),y=n(7294),h=n(2729),v=n(508),x=n(5388);let D="https://api-dsa.17app.co/api",I="https://sta-api.17app.co/api",j="https://uat-api.17app.co/api";(a=d||(d={}))[a.PAGE=0]="PAGE",a[a.CUSTOM=1]="CUSTOM";let A=(0,eval)("this"),C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.location?A.location.search.slice(1):"";return e.split("&").filter(Boolean).reduce((e,r)=>{let[n,a]=r.split("=");return void 0===a?e[n]=!0:e[n]=decodeURIComponent(a),e},{})},E=e=>String(e).length<2?"0".concat(String(e)):e,k=()=>!0,w=(e,r)=>{if(e>r){let n=e;e=r,r=n}return Math.floor(Math.random()*(r-e+1)+e)},T=()=>"https://vmo.17.media"===window.location.hostname||"https://gcscdn-event-cn.17.media"===window.location.hostname,N=()=>"https://sta-vmo.17.media"===window.location.hostname||"https://sta-cn-mov.17.media"===window.location.hostname,B=()=>"https://uat-vmo.17.media"===window.location.hostname||"https://uat-event-cn.17.media"===window.location.hostname,F=()=>T()?D:N()?I:B()?j:I,S=e=>T()?e.prod:N()?e.sta:B()&&e.uat?e.uat:e.sta,M=()=>{let e=C();return Array.from(new Set([e.lang,...window.navigator.languages].filter(Boolean)))};(t=i||(i={})).TAIWAN="zh_TW",t.CHINA="zh_CN",t.HONGKONG="zh_HK",t.JAPAN="ja",t.EUROPE="en_US",t.ARAB="ar";let W=e=>{let r=i.TAIWAN;if(e.length<=0)return r;let n=e.includes(i.TAIWAN)||e.includes(i.CHINA)||e.includes(i.HONGKONG),a=e.filter(e=>e===i.TAIWAN||e===i.CHINA||e===i.HONGKONG),t=e.map(e=>({prefix:e.substr(0,2),lang:e})),o=M().map(e=>{if(e.includes("-")||e.includes("_")){let r=e.replace("-","_").split("_");return"".concat(r[0].toLowerCase(),"_").concat(r[1].toUpperCase())}return e}),c="";return o.forEach(e=>{if(!c){if("zh"===e){if(n){let e=o.find(e=>a.includes(e));if(e)c=e;else{let[e]=a;c=e}}}else{let r=e.substr(0,2),n=t.findIndex(e=>e.prefix===r);n>=0&&(c=t[n].lang)}}}),c||r},K=(e,r,n)=>r.indexOf("MM/DD/YYYY")>-1?r.replace("MM/DD/YYYY",e.toLocaleDateString(n,{month:"2-digit",day:"2-digit",year:"numeric"})):r.indexOf("MM/DD")>-1?r.replace("MM/DD",e.toLocaleDateString(n,{month:"numeric",day:"2-digit"})):r.indexOf("MM/d")>-1?r.replace("MM/d",e.toLocaleDateString(n,{month:"numeric",day:"numeric"})):r,O=(e,r,n)=>r.indexOf("WN")>-1?r.replace("WN",e.toLocaleDateString(n,{weekday:n.indexOf("zh")>-1?"narrow":"short"})):r,R=(e,r,n)=>r.indexOf("hh:mm:ss")>-1?r.replace("hh:mm:ss",e.toLocaleTimeString("en-GB",{hour12:!1,hour:"numeric",minute:"numeric",second:"numeric"})):r.indexOf("HH:mm PP")>-1?r.replace("HH:mm PP",e.toLocaleTimeString(n,{hour12:!0,hour:"numeric",minute:"numeric"})):r,P=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD(WN)hh:mm:ss",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.TAIWAN,a={[i.TAIWAN]:"zh-TW",[i.CHINA]:"zh-CH",[i.HONGKONG]:"zh-HK",[i.JAPAN]:"ja-JP",[i.EUROPE]:"en-US",[i.ARAB]:"ar"},t=new Date(e),o=a[n];return console.log("format",r),console.log("format",r=K(t,r,o)),console.log("format",r=O(t,r,o)),console.log("format",r=R(t,r,o)),r},_=e=>{let r=new Date(e),n=r.getMonth()+1,a=r.getDate(),t=r.getHours(),o=r.getMinutes(),c=r.getSeconds(),l=a<10?"0".concat(a):String(a),s=t<10?"0".concat(t):String(t),d=o<10?"0".concat(o):String(o),i=c<10?"0".concat(c):String(c);return{month:n,stringDateOfMonth:l,stringHours:s,stringMinutes:d,stringSec:i}},L=(e,r)=>{let{d:n,h:a,m:t,s:o,ms:c}=e;return r.replace("D",n.toString()).replace("hh",E(a).toString()).replace("mm",E(t).toString()).replace("ss",E(o).toString())},Z=e=>{let{stringHours:r,stringMinutes:n,stringSec:a}=_(e);return"".concat(r,":").concat(n,":").concat(a)},U=e=>{let r=0,n=0;do r+=e.offsetTop||0,n+=e.offsetLeft||0,e=e.offsetParent;while(e);return{top:r,left:n}},H=(e,r)=>e.toLocaleString(null!=r?r:navigator.language,{minimumFractionDigits:0}),J=e=>/Mobile/.test(e),G=e=>/Android/.test(e)&&"undefined"!=typeof java17WebObject,Y=e=>/iPhone|iPad|iPod/.test(e),V=()=>!0,q=e=>{let r=Object.entries(e).map(e=>{let[r,n]=e;return"".concat(r,"=").concat(n)}),n="".concat(A.location.pathname,"?").concat(r.join("&"));A.location.href=n},z=(e,r)=>[{type:d.CUSTOM,key:"ArrowLeft",fn:()=>{let r=C();window.scrollTo(0,0);let n={...r,page:Number(r.page)>e?Number(r.page)-1:e};q(n)}},{type:d.CUSTOM,key:"ArrowRight",fn:()=>{let n=C();window.scrollTo(0,0);let a={...n,page:!n.page||Number(n.page)<r?Number(n.page||e)+1:n.page};q(a)}},...Array.from({length:r>9?9:r}).map((e,r)=>({type:d.PAGE,key:String(r+1),page:String(r+1)}))],X=e=>{let r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);let n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);r.select();try{return document.execCommand("copy"),document.body.removeChild(r),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),!0}catch(e){return!1}},Q=(e,r)=>{console.log("data",e),console.log("extraDataList",r);let n=[];if(e.length>0){let r=e[0].missions;r&&Object.keys(r).sort((e,r)=>Number(e.substr(-1))-Number(r.substr(-1))).forEach(e=>{n.push("".concat(e.substr(0,1).toUpperCase()).concat(e.substr(1)))})}let a=[];if(e.length>0){let r=e[0].meta;r&&Object.keys(r).forEach(e=>{a.push("".concat(e.substr(0,1).toUpperCase()).concat(e.substr(1)))})}let t=[];if(e.length>0){let r=e[0].member;r&&r.forEach(e=>{t.push("Member ".concat(e+1," UserID")),t.push("Member ".concat(e+1," Name")),t.push("Member ".concat(e+1," Score"))})}let o=r.map(e=>e.name),c=[],l="";return l=e[0]&&e[0].member?"Rank	LeagueID	League Name	LeagueScore	Region":"Rank	UserID	Name	Score	Region",n.length>0&&(l="".concat(l,"	").concat(n.join("	"))),a.length>0&&(l="".concat(l,"	").concat(a.join("	"))),t.length>0&&(l="".concat(l,"	").concat(t.join("	"))),o&&(l="".concat(l,"	").concat(o.join("	"))),c.push(l),e.forEach((e,o)=>{let l="".concat(e.rank,"	").concat(e.userInfo.userID,"	").concat(e.userInfo.displayName||e.userInfo.openID,"	").concat(e.score,"	").concat(e.userInfo.region);if(n.length>0){let r=[];Object.keys(e.missions).sort((e,r)=>Number(e.substr(-1))-Number(r.substr(-1))).forEach(n=>{r.push("".concat(e.missions[n]))}),r.length>0&&(l="".concat(l,"	").concat(r.join("	")))}if(a.length>0){let r=[];e.meta&&(Object.keys(e.meta).forEach(n=>{var a;r.push("".concat(null===(a=e.meta)||void 0===a?void 0:a[n]))}),r.length>0&&(l="".concat(l,"	").concat(r.join("	"))))}if(t.length>0){let r=[];e.member.forEach(e=>{r.push(e.userID),r.push(e.userInfo.displayName),r.push(e.score)}),r.length>0&&(l="".concat(l,"	").concat(r.join("	")))}r.forEach(r=>{let{filterFunction:n}=r,a=n(e);l="".concat(l,"	").concat(null!=a?a:"")}),c.push(l)}),X(c.join("\n"))},$="userInfo";(o=u||(u={})).jwtAccessToken="jwtAccessToken",o.userID="userID",o.accessToken="accessToken";let ee=()=>C(),er=()=>{var e;let{jwtAccessToken:r,accessToken:n,userID:a}=ee(),t=JSON.parse(null!==(e=localStorage.getItem($))&&void 0!==e?e:"{}"),o=!!(r||n),c=r!==t.jwtAccessToken||n!==t.accessToken;if(o){let e=new URL(window.location.href),{searchParams:t}=e;t.delete(u.jwtAccessToken),t.delete(u.accessToken),t.delete(u.userID),window.history.replaceState({jwtAccessToken:r,accessToken:n,userID:a},"",e.toString()),c&&localStorage.setItem($,JSON.stringify({jwtAccessToken:r,accessToken:n,userID:a,updateTime:Date.now(),referrer:document.referrer}))}return{jwtAccessToken:r,accessToken:n,userID:a}},en=e=>new Promise(r=>setTimeout(r,e));(c=f||(f={}))[c.NotYet=0]="NotYet",c[c.Ongoing=1]="Ongoing",c[c.Ended=2]="Ended";let ea=e=>"".concat(E(24*e.d+e.h),":").concat(E(e.m),":").concat(E(e.s)),et=e=>({d:Math.max(0,Math.floor(e/864e5)),h:Math.max(0,Math.floor(e/36e5)%24),m:Math.max(0,Math.floor(e/6e4)%60),s:Math.max(0,Math.floor(e/1e3)%60),ms:Math.max(0,e%1e3)});var eo=(e,r,n)=>{let a=(0,y.useRef)(0),[t,o]=(0,y.useState)(1e3*(0,x.now)()),c=()=>{t>e&&t<r&&(o(1e3*(0,x.now)()),requestAnimationFrame(c))};(0,y.useEffect)(()=>(a.current=requestAnimationFrame(c),()=>{cancelAnimationFrame(a.current)}),[c]);let l=t<e?f.NotYet:t>r?f.Ended:f.Ongoing;return{status:l,text:l===f.NotYet?ea(et(r-e)):l===f.Ongoing?ea(et(r-t)):n}},ec=(e,r)=>{(0,y.useEffect)(()=>{let{page:n=1,...a}=C();if(+n!==r&&e){let e={...a,page:r},n=Object.entries(e).map(e=>{let[r,n]=e;return"".concat(r,"=").concat(n)}),t="".concat(A.location.pathname,"?").concat(n.join("&"));A.location.href=t}},[e,r])},el=n(7632);let es={bonus:0,meta:{},rank:0,score:0,userInfo:{displayName:"",gloryroadMode:0,level:0,name:"",openID:"",picture:"36a80c61-89d9-40b5-803d-5b0437f293c4.jpg",region:"TW",userID:"",onLiveInfo:{liveStreamID:"",premiumType:0,streamID:0,streamerType:0}}},ed=Array(100).fill(0).map(()=>(0,el.Z)()),ei=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return{...es,score:n,rank:r+1,userInfo:{...es.userInfo,displayName:"user".concat(r),name:"user".concat(r),openID:"user".concat(r),picture:"",userID:e}}},eu=ed.map((e,r)=>ei(e,r)),ef=(e,r)=>{let n=Array(e).fill(0).map(()=>({userID:ed[Math.floor(r*Math.random())],score:Math.floor(1e4*Math.random())}));return n},ep=(e,r)=>{let n=ef(1,r),a=[...e];return n.forEach(e=>{let r=a.find(r=>r.userInfo.userID===e.userID);r?r.score+=e.score:a.push(ei(e.userID,a.length,e.score))}),a.sort((e,r)=>r.score-e.score).map((e,r)=>({...e,rank:r+1}))};var eb=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,[t,o]=(0,y.useState)([]),c=(0,y.useRef)(0);return(0,y.useEffect)(()=>{r&&o(eu)},[r]),(0,y.useEffect)(()=>(e&&n&&o(eu.slice(0,a)),!e||c.current||n||(c.current=window.setInterval(()=>{o(e=>ep(e,a))},1e3)),()=>{c.current&&(clearInterval(c.current),c.current=0)}),[e,a,n]),{leaderboard:t}};let eg=e=>{let{startDate:r,endDate:n,nextPage:a,isResultPage:t,endedText:o,test:c,init:l}=e,s=new Date(r).getTime(),d=new Date(n).getTime(),{status:i,text:u}=eo(s,d,o),p=i===f.Ended&&(0,x.now)()<d+5e3;ec(p,a);let b=!p&&c,{leaderboard:g}=eb(b,l,t);return{mockLeaderboard:g,countdownText:u,status:i}};var em=(e,r,n,a)=>{let{width:t,height:o,offsetX:c,offsetY:l}=e;if("number"==typeof a){let e={left:(a-1)%n*(t+c),top:Math.floor((a-1)/n)*(o+l),...r};return{itemTransitionStyle:e}}return{itemTransitionStyle:a.map(e=>({left:(e-1)%n*(t+c),top:Math.floor((e-1)/n)*(o+l),position:"absolute",...r}))}};function ey(){let e=(0,h._)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return ey=function(){return e},e}let eh=v.ZP.div(ey()),ev={transition:"all 0.5s ease 0.3s"},ex=y.memo(e=>{let{user:r,itemStyle:n,rowCount:a,children:t}=e,{itemTransitionStyle:o}=em(n,ev,a,r.map(e=>e.rank));return(0,m.jsx)(eh,{children:y.Children.map(t,(e,n)=>{if(!y.isValidElement(e)||!Array.isArray(o))throw Error("Invalid child element");return y.cloneElement(e,{style:o[n],key:r[n].userInfo.userID,...e.props})})})});function eD(){let e=(0,h._)(["\n  width: 100%;\n"]);return eD=function(){return e},e}function eI(){let e=(0,h._)(["\n  width: 100px;\n  height: 100px;\n  border: 1px solid black;\n"]);return eI=function(){return e},e}function ej(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n  width: 500px;\n"]);return ej=function(){return e},e}function eA(){let e=(0,h._)(["\n  margin-right: 20px;\n  padding: 5px 10px 5px 0;\n"]);return eA=function(){return e},e}function eC(){let e=(0,h._)(["\n  margin: 20px 0 20px 20px;\n  padding: 5px 10px;\n"]);return eC=function(){return e},e}let eE={width:100,height:100,offsetX:20,offsetY:20},ek=v.ZP.div(eD()),ew=v.ZP.div(eI()),eT=v.ZP.input(ej()),eN=v.ZP.input(eA()),eB=v.ZP.button(eC()),eF=e=>{let{pageConfig:r}=e,{countdownText:n,mockLeaderboard:a}=eg(r);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{children:n}),(0,m.jsx)(ex,{itemStyle:eE,rowCount:4,user:a,children:a.map(e=>(0,m.jsxs)(ew,{children:[e.userInfo.openID,": ",e.score]},e.userInfo.userID))})]})};var eS=y.memo(()=>{let[e,r]=(0,y.useState)("2023-06-18T18:55:00+08:00"),[n,a]=(0,y.useState)("2023-06-20T18:55:00+08:00"),[t,o]=(0,y.useState)(),[c,l]=(0,y.useState)(!1),[s,d]=(0,y.useState)(!1);return(0,m.jsx)("div",{children:(0,m.jsxs)(ek,{children:[(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"End Date:"}),(0,m.jsx)(eT,{type:"text",value:n,placeholder:"請輸入 End Date",onChange:e=>{a(e.target.value),o(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"每秒假資料:"}),(0,m.jsx)(eN,{type:"checkbox",value:"test",onChange:e=>{let{checked:r}=e.target;l(r),o(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"初始假資料:"}),(0,m.jsx)(eN,{type:"checkbox",value:"test",onChange:e=>{let{checked:r}=e.target;d(r),o(null)}}),(0,m.jsx)(eB,{onClick:()=>{o({startDate:e,endDate:n,nextPage:2,isResultPage:!1,endedText:"活動結束",test:c,init:s})},children:"送出"}),(0,m.jsx)("br",{}),t&&(0,m.jsx)(eF,{pageConfig:t})]})})}),eM=()=>{let e=(0,y.useRef)([]);return{handleScroll:r=>{e.current&&Array.from(e.current).forEach(e=>{e.scrollTop=r.target.scrollTop})},elPoolRef:e}};function eW(){let e=(0,h._)(["\n  width: 300px;\n  height: 100%;\n  border: 1px solid black;\n  margin-right: 10px;\n"]);return eW=function(){return e},e}function eK(){let e=(0,h._)(["\n  width: 300px;\n  height: 100px;\n  border: 1px solid black;\n  margin-bottom: 20px;\n"]);return eK=function(){return e},e}function eO(){let e=(0,h._)(["\n  width: 100%;\n  display: flex;\n  height: 800px;\n  overflow: auto;\n"]);return eO=function(){return e},e}let eR=v.ZP.div(eW()),eP=v.ZP.div(eK()),e_=e=>{let{handleScroll:r}=e,{leaderboard:n}=eb(!0,!0);return(0,m.jsx)(eR,{onScroll:r,children:n.map(e=>(0,m.jsxs)(eP,{children:[e.userInfo.openID,": ",e.score]},e.userInfo.userID))})},eL=v.ZP.div(eO()),eZ=[,,,].fill(0).map(()=>(0,el.Z)());var eU=y.forwardRef(()=>{let e=(0,y.useRef)(null),{elPoolRef:r,handleScroll:n}=eM();return(0,y.useEffect)(()=>{r.current&&e.current&&r.current.push(...Array.from(e.current.children))},[]),(0,m.jsxs)("div",{children:["多個榜單可以同時滾動",(0,m.jsx)("br",{}),(0,m.jsx)(eL,{ref:e,children:eZ.map((e,r)=>(0,m.jsxs)(m.Fragment,{children:["榜單",r+1,(0,m.jsx)(e_,{handleScroll:n},e)]}))})]})});function eH(){let e=(0,h._)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return eH=function(){return e},e}function eJ(){let e=(0,h._)(["\n  background: #1b1818;\n"]);return eJ=function(){return e},e}function eG(){let e=(0,h._)(["\n  background: white;\n  border-radius: 50%;\n  animation: show 0.5s;\n\n  @keyframes show {\n    0% {\n      transform: scale(0);\n    }\n    100% {\n      transform: scale(1.5);\n    }\n  }\n"]);return eG=function(){return e},e}let eY=v.ZP.div(eH()),eV=(0,v.ZP)(eY)(eJ()),eq=(0,v.ZP)(eY)(eG()),ez=()=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(eV,{}),(0,m.jsx)(eq,{})]});var eX=function(e){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[n,a]=(0,y.useState)([]),[t,o]=(0,y.useState)([]),[c,l]=(0,y.useState)([]),[s,d]=(0,y.useState)(0),[i,u]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{0===s&&a(r=>{let n=e.sort((e,r)=>e.rank-r.rank);return 0===r.length||JSON.stringify(r)!==JSON.stringify(n)?n:r})},[e,s]),{candidates:n,hasDraw:i,winners:t,allWinners:c,draw:e=>{if(!e){console.warn("can not draw without drawCount.");return}if(!n.length){console.warn("can not draw without candidates.");return}if(!r&&e>n.length){console.warn("remain candidates is less than winners count.");return}u(!0);let t=[],c=()=>{let e=w(0,n.length-1);return t.includes(e)?c():(t=[...t,e],e)},s=r&&e>n.length?n.length:e,i=Array(s).fill(0).map(c),f=n.filter((e,r)=>!i.includes(r)).sort((e,r)=>e.rank-r.rank),p=n.filter((e,r)=>i.includes(r)).sort((e,r)=>e.rank-r.rank);d(e=>e+1),a(f),o(p),l(e=>{let r=[...e,p];return k()&&localStorage.setItem(A.location.href,JSON.stringify(r)),r}),setTimeout(()=>{u(!1)},500)},clearWinners:()=>o([]),reset:()=>{d(0),a(e),o([]),l([]),k()&&localStorage.removeItem(A.location.href)},currentRound:s,MaskDiv:ez}};function eQ(){let e=(0,h._)(["\n  text-align: center;\n"]);return eQ=function(){return e},e}function e$(){let e=(0,h._)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px 20px 20px;\n  border: 1px solid black;\n  max-height: 640px;\n  overflow-y: auto;\n"]);return e$=function(){return e},e}function e0(){let e=(0,h._)(["\n  width: calc(50% - 4px);\n  max-height: 640px;\n  overflow-y: auto;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n"]);return e0=function(){return e},e}function e4(){let e=(0,h._)([""]);return e4=function(){return e},e}function e1(){let e=(0,h._)([""]);return e1=function(){return e},e}function e8(){let e=(0,h._)(["\n  text-align: left;\n"]);return e8=function(){return e},e}function e2(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n"]);return e2=function(){return e},e}function e9(){let e=(0,h._)(["\n  padding: 5px 10px;\n"]);return e9=function(){return e},e}let e5=v.ZP.div(eQ()),e6=v.ZP.div(e$()),e3=v.ZP.div(e0()),e7=(0,v.ZP)(e3)(e4()),re=(0,v.ZP)(e3)(e1()),rr=v.ZP.ol(e8()),rn=v.ZP.button(e2()),ra=v.ZP.input(e9()),rt=y.memo(()=>{let e=eu.slice(0,50),[r,n]=(0,y.useState)(20),[a,t]=(0,y.useState)(!0),{MaskDiv:o,hasDraw:c,candidates:l,winners:s,allWinners:d,currentRound:i,draw:u,clearWinners:f,reset:p}=eX(e,a),b=window.localStorage.getItem(window.location.href),g=b?JSON.parse(b):[];return(0,m.jsxs)(e5,{children:[(0,m.jsx)("h1",{children:"抽獎 sample"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"設定每輪開獎人數並開獎(依照 rank 排序)"}),(0,m.jsx)(ra,{type:"number",value:r,placeholder:"請輸入開獎人數",onChange:e=>n(+e.target.value)}),(0,m.jsxs)("label",{htmlFor:"autoDrawRemainCount",children:["自動抽出剩餘人數",(0,m.jsx)("input",{id:"autoDrawRemainCount",type:"checkbox",checked:a,onChange:e=>t(e.target.checked)})]})]}),(0,m.jsx)("p",{children:"(當參加者不足抽獎人數時, 是否抽出所有剩餘人數)"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(rn,{onClick:()=>u(r),children:"開獎"}),(0,m.jsx)(rn,{onClick:()=>f(),children:"清空得獎者"}),(0,m.jsx)(rn,{onClick:()=>p(),children:"重新開始"})]}),c&&(0,m.jsx)(o,{}),(0,m.jsxs)(e6,{children:[(0,m.jsxs)(e7,{children:[(0,m.jsx)("h2",{children:"參加者名單"}),(0,m.jsx)(rr,{children:l.map(e=>(0,m.jsxs)("li",{children:[(0,m.jsxs)("p",{children:["參加者: ",e.userInfo.name]}),(0,m.jsxs)("p",{children:["(ID: ",e.userInfo.userID,")"]})]},e.rank))})]}),(0,m.jsxs)(re,{children:[(0,m.jsxs)("h2",{children:["得獎者名單 - 第",i,"輪"]}),(0,m.jsx)(rr,{children:s.map(e=>(0,m.jsxs)("li",{children:[(0,m.jsxs)("p",{children:["得獎者: ",e.userInfo.name]}),(0,m.jsxs)("p",{children:["(ID: ",e.userInfo.userID,")"]})]},e.rank))})]})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"全部得獎者名單紀錄"}),(0,m.jsx)(e6,{children:d.map((e,r)=>(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{children:["第",r+1,"輪"]}),(0,m.jsx)("ul",{children:e.map(e=>(0,m.jsxs)("li",{children:[(0,m.jsxs)("p",{children:["得獎者: ",e.userInfo.name]}),(0,m.jsxs)("p",{children:["(ID: ",e.userInfo.userID,")"]})]},e.rank))})]},r))})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"得獎者名單紀錄 by localstorage"}),(0,m.jsx)(e6,{children:g.map((e,r)=>(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{children:["第",r+1,"輪"]}),(0,m.jsx)("ul",{children:e.map(e=>(0,m.jsxs)("li",{children:[(0,m.jsxs)("p",{children:["得獎者: ",e.userInfo.name]}),(0,m.jsxs)("p",{children:["(ID: ",e.userInfo.userID,")"]})]},e.rank))})]},r))})]})]})});var ro=n(6154);n(3454);let rc=()=>ro.Z.create({baseURL:T()?D:N()?I:B()?j:I}),rl="lb-cache-v1";(l=p||(p={})).CACHE_FIRST="cacheFirst",l.CACHE_THEN_NETWORK="cacheThenNetwork",l.NETWORK_ONLY="networkOnly",l.NETWORK_FIRST="networkFirst",(s=b||(b={})).GET="get",s.POST="post",s.PUT="put";let rs=[{path:"/leaderboards/eventory",method:b.GET,cacheStrategy:p.CACHE_THEN_NETWORK}],rd=async()=>{try{return await caches.open("Test Cache Storage Available"),!0}catch(e){return console.error("Cache Storage Unavailable, ",e),!1}},ri=e=>{let r=e.getDate(),n=e.getMonth(),a=r>10?r:"0".concat(r);return"".concat(e.getFullYear(),"-").concat(n+1>10?n+1:"0".concat(n+1),"-").concat(a)},ru=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=new Date(r.getTime());return n.setDate(r.getDate()-e),n},rf=async(e,r)=>{let n=new Date,a="".concat(rl,"-").concat(ri(n));await rp();try{let n=await caches.open(a),t=new Response(JSON.stringify(r),{headers:{"Content-Type":"application/json"}});await n.put(e,t)}catch(e){"QuotaExceededError"===e.name?console.error("Set cache storage QuotaExceededError"):console.error("Set cache storage ".concat(e,"."))}},rp=async()=>{try{let e=await caches.keys();for(let r of e)r.length&&r.includes(rl)&&rb(r)&&await caches.delete(r)}catch(e){console.error("Delete cache storage ".concat(e,"."))}},rb=e=>{let r=ru(2),n=e.replace("".concat(rl,"-"),""),a=new Date(n);return r>=a},rg=async(e,r)=>{try{let n=await caches.open(e),a=await n.match(r),t=await (null==a?void 0:a.json());return{cache:t}}catch(e){return{error:new rh(e)}}},rm=async e=>{let r;let n=await caches.keys(),a=n.reverse();for(let n of a)if((null==(r=await rg(n,e))?void 0:r.error)&&console.error(null==r?void 0:r.error),null==r?void 0:r.cache)return r.cache;console.warn("Cannot find any cache.")},ry=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.GET;if(r!==b.GET)return{cacheStrategy:p.NETWORK_ONLY};let n=rs.find(r=>{let{path:n}=r;return new RegExp(n).test(e)});if(!n)return{cacheStrategy:p.NETWORK_ONLY};let{cacheStrategy:a}=n;return{cacheStrategy:a}};class rh extends Error{constructor(e){super(e),this.name="CacheError"}}let rv=e=>e.then(e=>({data:e})).catch(e=>({error:e})),rx=(e,r)=>({data:e,callback:r}),rD=async(e,r)=>{let n=await rv(e);if(n.data)return rf(r,n.data),rx(n.data);let a=await rm(r);if(a)return rx(a);throw n.error},rI=async e=>{let r=await rv(e);if(r.data)return rx(r.data);throw r.error},rj=async(e,r)=>{let n=await rm(r),a=new Promise((a,t)=>{(async()=>{let o=await rv(e);o.data&&(rf(r,o.data),a({data:o.data,cache:n})),o.error&&n&&a({cache:n,error:o.error}),t(o.error)})()});return rx(n,a)},rA=e=>{let{cacheStrategy:r,apiCallback:n,url:a}=e;return r===p.NETWORK_FIRST?rD(n,a):r===p.CACHE_THEN_NETWORK?rj(n,a):rI(n)},rC="/v1/leaderboards/eventory";(g||(g={})).TIMEOUT="ECONNABORTED";let rE=(e,r)=>{let n=F(),a=new URL(n+e);return Object.keys(r).forEach(e=>{let n=r[e];n&&a.searchParams.append(e,n.toString())}),a.toString()},rk=e=>{let{apiEndpoint:r,type:n,limit:a,cursor:t,withoutOnliveInfo:o}=e,c={containerID:S(n),count:a,cursor:t,withoutOnliveInfo:o};if(t){let[e]=t.split("-",1),[n,a,o]=e.split(":").slice(1),l="".concat(n,":").concat(a,":").concat(o),s={...c,cursor:l};return rE(r,s)}return rE(r,c)},rw=e=>{let{apiEndpoint:r,eventoryApi:n,type:a,limit:t,cursor:o,withoutOnliveInfo:c,cancelToken:l}=e;return n.get(r,{params:{containerID:S(a),count:t,cursor:o,withoutOnliveInfo:c},cancelToken:l})},rT=async e=>{let{type:r,cancelToken:n,limit:a=1e3,cursor:t="",withoutOnliveInfo:o,strategy:c}=e,l=rc();o||(l.defaults.timeout=5e3,l.interceptors.response.use(e=>e,e=>{if((null==e?void 0:e.code)===g.TIMEOUT){var r;let a=null==e?void 0:null===(r=e.config)||void 0===r?void 0:r.params;if(!a.withoutOnliveInfo)return delete l.defaults.timeout,l.get(rC,{params:{...a,withoutOnliveInfo:!0},cancelToken:n})}return Promise.reject(e)}));let s=rk({apiEndpoint:rC,type:r,limit:a,cursor:t,withoutOnliveInfo:o}),d=await rA({cacheStrategy:c,apiCallback:rw({apiEndpoint:rC,type:r,limit:a,cursor:t,withoutOnliveInfo:o,cancelToken:n,eventoryApi:l}),url:s});return d};var rN=e=>{let{apiList:r=[],realTime:n,initialData:a,cacheStrategy:t,opt:o={limit:1e3,cursor:"",withoutOnliveInfo:!1}}=e,[c,l]=(0,y.useState)(),[s,d]=(0,y.useState)(a),[i,u]=(0,y.useState)(!1),[f,g]=(0,y.useState)(!1),m=(0,y.useRef)(0),{limit:h,cursor:v,withoutOnliveInfo:x}=o,D=(0,y.useMemo)(()=>({cacheData:[],networkData:[],options:[],sources:[]}),[]);D.options.length!==r.length&&r.forEach(()=>{D.cacheData=[...D.cacheData,[]],D.networkData=[...D.networkData,[]],D.options=[...D.options,{limit:h,cursor:v,withoutOnliveInfo:x}],D.sources=[...D.sources,ro.Z.CancelToken.source()]});let[I,j]=(0,y.useState)(D.cacheData),[A,C]=(0,y.useState)(D.networkData),[E,k]=(0,y.useState)(D.options),[w,T]=(0,y.useState)(!1),[N,B]=(0,y.useState)(!1),F=(0,y.useRef)(D.sources),S=(0,y.useRef)(!0),M=(0,y.useRef)(!1),W=(0,y.useRef)(!1),K=(0,y.useRef)(!1),O=(0,y.useRef)(!1),R=(0,y.useRef)(0),P=(0,y.useRef)(),{cacheStrategy:_}=(0,y.useMemo)(()=>ry("/v1/leaderboards/eventory",b.GET),[]),L=(0,y.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.map((r,n)=>{var a,t,o,c;if(S.current||(null===(a=E[n])||void 0===a?void 0:a.cursor))return rT({type:r,cancelToken:F.current[n].token,limit:null===(t=E[n])||void 0===t?void 0:t.limit,cursor:null===(o=E[n])||void 0===o?void 0:o.cursor,withoutOnliveInfo:null===(c=E[n])||void 0===c?void 0:c.withoutOnliveInfo,strategy:e})}).filter(e=>!!e)},[E]),Z=(0,y.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((e,r)=>{var n;if(S.current||(null===(n=E[r])||void 0===n?void 0:n.cursor))return r}).filter(e=>Number.isFinite(e))},[E]),U=(0,y.useCallback)((e,r)=>(C(n=>{if(!n)return e.map(e=>e.data.data.data);let a=n.map((n,a)=>{var t,o,c;let l=r.findIndex(e=>a===e),s=null===(t=e[l])||void 0===t?void 0:null===(o=t.data)||void 0===o?void 0:null===(c=o.data)||void 0===c?void 0:c.data,d=l>=0&&s&&n?[...n,...s]:n;return d});return a}),e),[]),H=(0,y.useCallback)(async(e,r)=>{j(n=>{let a=n.map((n,a)=>{var t,o,c;let l=r.findIndex(e=>a===e),s=null===(t=e[l])||void 0===t?void 0:null===(o=t.data)||void 0===o?void 0:null===(c=o.data)||void 0===c?void 0:c.data;return l>=0&&s&&n?(K.current=!0,[...n,...s]):n});return a}),S.current&&K.current&&T(!1),!M.current&&W.current&&(g(!1),await en(1e3));let n=e.map(e=>e.callback),a=await Promise.all(n),t=a.some(e=>null==e?void 0:e.error);t&&S.current&&(M.current=!0),W.current=t,!M.current&&W.current&&g(!0);let o=M.current?"cache":"data";return C(e=>{let n=e.map((e,n)=>{var t,c;let l=r.findIndex(e=>n===e),s=null===(t=a[l])||void 0===t?void 0:null===(c=t[o])||void 0===c?void 0:c.data.data,d=l>=0&&s&&e?[...e,...s]:e;return d});return n}),a},[]),J=(0,y.useCallback)((e,r,n)=>E.map((n,a)=>{let t=r.findIndex(e=>a===e);if(t>=0){M.current;let{nextCursor:r}=M.current?e[t].cache.data:e[t].data.data;return{limit:o.limit,cursor:r,withoutOnliveInfo:o.withoutOnliveInfo}}return n}),[o.limit,o.withoutOnliveInfo,E]),G=(0,y.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];l(void 0);let r=S.current&&R.current<1;if(T(r),B(!0),t===p.NETWORK_ONLY&&(P.current=t),!P.current){let e=await rd();P.current=e?null!=t?t:_:p.NETWORK_ONLY}let n=L(P.current,e);if(!n.length)return;let a=Z(e);O.current=!1;let o=[];try{let e=await Promise.all(n);if(P.current!==p.CACHE_THEN_NETWORK){let r=U(e,a);o=J(r,a,P.current);return}let r=await H(e,a);o=J(r,a,P.current)}catch(e){l(e),P.current!==p.CACHE_THEN_NETWORK&&k(D.options)}finally{T(!1),B(!1),S.current=!1,o.length>0&&(M.current||!W.current)&&k(o),O.current=!0}},[t,_,L,J,Z,D.options,H,U]),Y=(0,y.useCallback)(async()=>{G(r)},[r,G]),V=(0,y.useCallback)(()=>{j(D.cacheData),C(D.networkData),S.current=!0,M.current=!1,Y()},[Y,D]),q=(0,y.useCallback)(()=>null==A?void 0:A.every((e,r)=>{var n;if(!O.current)return!1;let a=null===(n=E[r])||void 0===n?void 0:n.cursor;if(a){let[e]=a.split("-",1),n=e.split(":").slice(1)[0];return A[r].length===+n}return!0}),[A,E]);return(0,y.useEffect)(()=>{f&&Y()},[r,G,Y,f]),(0,y.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState?u(!0):u(!1)};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[]),(0,y.useEffect)(()=>{let e=q();e&&A.length>0&&(R.current+=1)},[A,q]),(0,y.useEffect)(()=>{let e=A.some(e=>e.length>0),r=e?A:I;if(n<=0){d(r);return}let a=E.every(e=>!e.cursor);0===R.current?d(r):R.current>0&&a&&O.current&&e&&d(A)},[A,I,E,n,r]),(0,y.useEffect)(()=>{let e=E.find(e=>e.cursor);e&&Y()},[Y,E]),(0,y.useEffect)(()=>{if(N||i)return;let e=q();!N&&n>0&&!S.current&&e&&(m.current&&(clearTimeout(m.current),m.current=0),m.current=window.setTimeout(V,n))},[q,N,n,V,i]),(0,y.useEffect)(()=>{!i&&S.current&&Y()},[Y,i]),{loading:w,polling:N,requestError:c,leaderboardData:s}},rB=e=>{let[r,n]=(0,y.useState)(e),[a,t]=(0,y.useState)(""),o=(0,y.useMemo)(()=>e.filter(e=>{var r;let n=null!==(r=e.userInfo.displayName||e.userInfo.openID)&&void 0!==r?r:"";return n.toLowerCase().includes(a.trim().toLowerCase())}),[e,a]),c=(0,y.useMemo)(()=>{var r;let a;return r=r=>{if(t(r),!r){n(e);return}n(o)},function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];clearTimeout(a),a=setTimeout(()=>{r(...n)},500)}},[e,o]);return(0,y.useEffect)(()=>{a?n(()=>o):n(e)},[e,a,o]),{data:r,handleOnChange:c}};let rF=["https://17.live","https://sta.17.live"],rS="17live/17LIVE_HOST",rM=e=>{let r=sessionStorage.getItem(rS);r&&window.parent.postMessage(e,r)};window.addEventListener("message",e=>{let{origin:r,data:{type:n,payload:a}}=e;if(r&&sessionStorage.getItem(rS)!==r){let e=rF.find(e=>e===r);if(!e)return!1;sessionStorage.setItem(rS,e)}},!1);var rW=e=>rM({type:"17live/Event/EVENT_SEND_AVATAR_LINK",payload:e});let rK=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(J(window.navigator.userAgent)){if(G(window.navigator.userAgent)){if(n>0){window.location.href="http://17.media/share/live/".concat(n);return}if(java17WebObject){java17WebObject.openProfile(e,"profile");return}}if(Y(window.navigator.userAgent)){if(n>0){window.location.href="media17://live/".concat(n);return}window.location.href="media17://u/".concat(e)}}else{if(window.parent!==window){rW(r);return}n>0&&window.open("http://17.media/share/live/".concat(n))}};var rO=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!V()){console.warn("can only use in client side.");return}rK(e,r,n)};function rR(){let e=(0,h._)(["\n  width: 100%;\n"]);return rR=function(){return e},e}function rP(){let e=(0,h._)(["\n  width: 250px;\n  height: 100px;\n  border: 1px solid black;\n  cursor: pointer;\n"]);return rP=function(){return e},e}function r_(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n  width: 500px;\n"]);return r_=function(){return e},e}function rL(){let e=(0,h._)(["\n  margin: 20px 0 20px 20px;\n  padding: 5px 10px;\n"]);return rL=function(){return e},e}let rZ={width:250,height:100,offsetX:20,offsetY:20},rU=v.ZP.div(rR()),rH=v.ZP.div(rP()),rJ=v.ZP.input(r_()),rG=v.ZP.button(rL()),rY=e=>{let{handleOnChange:r}=e;return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"Filter 主播名稱:"}),(0,m.jsx)(rJ,{placeholder:"請輸入主播名稱",onChange:e=>r(e.target.value)})]})},rV=e=>{let{config:r}=e,{loading:n,polling:a,requestError:t,leaderboardData:o}=rN({apiList:r.apiList,realTime:r.realTime,initialData:[[{userInfo:{userID:"4bfcd001-5ff1-4ec7-88fe-e395b05386b0",displayName:"我是柔柔",picture:"24661c0e-a4da-4d34-8d5b-f85ba5bf98bc.jpg",name:"",level:0,openID:"",region:"TW",gloryroadMode:0},score:1e6,rank:1,meta:{eventoryKey:"4bfcd001-5ff1-4ec7-88fe-e395b05386b0"}}]],opt:r.opt}),c=o&&o.length>0?o[0]:[],{data:l,handleOnChange:s}=rB(c);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(rY,{handleOnChange:s}),(0,m.jsxs)("span",{children:["is loading: ",n.toString()]})," ",(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["is polling: ",a.toString()]})," ",(0,m.jsx)("br",{}),t&&(0,m.jsxs)("span",{children:["Error: ",t.message]})," ",(0,m.jsx)("br",{}),(0,m.jsxs)("p",{children:["點擊主播行為由 ",(0,m.jsx)("b",{children:"helpers/handleClickAvatar "}),"提供（deepLink & 有開播情形會連至主播頁面）"]}),!t&&(0,m.jsx)(rU,{children:(0,m.jsx)(ex,{itemStyle:rZ,rowCount:4,user:l,children:l.map(e=>(0,m.jsxs)(rH,{onClick:()=>{var r,n;return rO(e.userInfo.userID,e.userInfo.openID,null===(r=e.userInfo)||void 0===r?void 0:null===(n=r.onLiveInfo)||void 0===n?void 0:n.streamID)},children:[(0,m.jsx)("b",{children:"主播名稱:"})," ",e.userInfo.displayName,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"id: "})," ",e.userInfo.userID," ",(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"value:"})," ",e.score]},e.userInfo.userID))})})]})};var rq=y.memo(()=>{let[e,r]=(0,y.useState)("7f92082d-844e-4094-b661-a10e2c9c79a9"),[n,a]=(0,y.useState)(0),[t,o]=(0,y.useState)(1e3),[c,l]=(0,y.useState)();return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"取得單一榜單資料"}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"Eventory Container ID:"}),(0,m.jsx)(rJ,{type:"text",value:e,placeholder:"請輸入 Eventory Container ID",onChange:e=>{r(e.target.value),l(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"Request 自動重發更新間隔時間:"}),(0,m.jsx)(rJ,{type:"number",value:n,placeholder:"請輸入request間隔時間",onChange:e=>{a(+e.target.value),l(null)}}),(0,m.jsx)("span",{children:"/毫秒数(ms)"}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"\b向後端每次拿取的數量:"}),(0,m.jsx)(rJ,{type:"number",value:t,placeholder:"請輸入\\b向後端每次拿取的數量",onChange:e=>{o(+e.target.value),l(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)(rG,{onClick:()=>{l({apiList:[{sta:e,prod:""}],realTime:+n,opt:{limit:t,cursor:"",withoutOnliveInfo:!1}})},children:"送出"}),(0,m.jsx)("br",{}),c&&(0,m.jsx)(rV,{config:c})]})});function rz(){let e=(0,h._)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10px 20px 20px;\n  border: 1px solid black;\n  height: 640px;\n  overflow-y: auto;\n"]);return rz=function(){return e},e}function rX(){let e=(0,h._)(["\n  width: calc(50% - 4px);\n  height: 640px;\n  overflow-y: auto;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n"]);return rX=function(){return e},e}function rQ(){let e=(0,h._)([""]);return rQ=function(){return e},e}function r$(){let e=(0,h._)([""]);return r$=function(){return e},e}function r0(){let e=(0,h._)(["\n  width: 250px;\n  height: 100px;\n  border: 1px solid black;\n"]);return r0=function(){return e},e}function r4(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n  width: 500px;\n"]);return r4=function(){return e},e}function r1(){let e=(0,h._)(["\n  margin: 20px 0 20px 20px;\n  padding: 5px 10px;\n"]);return r1=function(){return e},e}let r8={width:250,height:100,offsetX:20,offsetY:20},r2=v.ZP.div(rz()),r9=v.ZP.div(rX()),r5=(0,v.ZP)(r9)(rQ()),r6=(0,v.ZP)(r9)(r$()),r3=v.ZP.div(r0()),r7=v.ZP.input(r4()),ne=v.ZP.button(r1()),nr=e=>{let{config:r,left:n,right:a}=e,{loading:t,polling:o,requestError:c,leaderboardData:l}=rN({apiList:r.apiList,realTime:r.realTime,initialData:[],opt:r.opt}),s=l&&l.length>0?l[0]:[],d=l&&l.length>0?l[1]:[];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{children:["is loading: ",t.toString()]})," ",(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["is polling: ",o.toString()]})," ",(0,m.jsx)("br",{}),c&&(0,m.jsxs)("span",{children:["Error: ",null==c?void 0:c.message]})," ",(0,m.jsx)("br",{}),!c&&(0,m.jsxs)(r2,{children:[(0,m.jsxs)(r5,{children:["Eventory Container ID: ",n,(0,m.jsx)(ex,{itemStyle:r8,rowCount:2,user:s,children:s.map(e=>(0,m.jsxs)(r3,{onClick:()=>{var r,n;return rO(e.userInfo.userID,e.userInfo.openID,null===(r=e.userInfo)||void 0===r?void 0:null===(n=r.onLiveInfo)||void 0===n?void 0:n.streamID)},children:[(0,m.jsx)("b",{children:"主播名稱:"})," ",e.userInfo.displayName,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"id: "})," ",e.userInfo.userID," ",(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"value:"})," ",e.score]},e.userInfo.userID))})]}),(0,m.jsxs)(r6,{children:["Eventory Container ID: ",a,(0,m.jsx)(ex,{itemStyle:r8,rowCount:2,user:d,children:d.map(e=>(0,m.jsxs)(r3,{children:[(0,m.jsx)("b",{children:"主播名稱:"})," ",e.userInfo.displayName,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"id: "})," ",e.userInfo.userID," ",(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"value:"})," ",e.score]},e.userInfo.userID))})]})]})]})};var nn=y.memo(()=>{let[e,r]=(0,y.useState)("7f92082d-844e-4094-b661-a10e2c9c79a9"),[n,a]=(0,y.useState)("4b5acf97-717f-4819-b0e9-d692d99728dc"),[t,o]=(0,y.useState)(0),[c,l]=(0,y.useState)(1e3),[s,d]=(0,y.useState)();return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"取得單雙榜單資料，主要是考量到有可能會有複數取得榜單資料的情況，例如榜單＋加分榜"}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"左邊 Eventory Container ID:"}),(0,m.jsx)(r7,{type:"text",value:e,placeholder:"請輸入 Eventory Container ID",onChange:e=>{r(e.target.value),d(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"右邊 Eventory Container ID:"}),(0,m.jsx)(r7,{type:"text",value:n,placeholder:"請輸入 Eventory Container ID",onChange:e=>{a(e.target.value),d(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"\b向後端每次拿取的數量:"}),(0,m.jsx)(r7,{type:"number",value:c,placeholder:"請輸入\\b向後端每次拿取的數量",onChange:e=>{l(+e.target.value),d(null)}}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"Request 自動重發更新間隔時間:"}),(0,m.jsx)(r7,{type:"number",value:t,placeholder:"請輸入request間隔時間",onChange:e=>{o(+e.target.value),d(null)}}),(0,m.jsx)("span",{children:"/毫秒数(ms)"}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"note: 這邊useTypeApi傳入的 initialData 因為有兩張榜單，所以格式要是[[],[]]"}),(0,m.jsxs)("p",{children:["點擊主播行為由 ",(0,m.jsx)("b",{children:"helpers/handleClickAvatar "}),"提供（deepLink & 有開播情形會連至主播頁面）"]}),(0,m.jsx)("br",{}),(0,m.jsx)(ne,{onClick:()=>{d({apiList:[{sta:e,prod:""},{sta:n,prod:""}],realTime:t,opt:{limit:c,cursor:"",withoutOnliveInfo:!1}})},children:"送出"}),(0,m.jsx)("br",{}),s&&(0,m.jsx)(nr,{config:s,left:e,right:n})]})});function na(){let e=(0,h._)(["\n  width: 100%;\n"]);return na=function(){return e},e}function nt(){let e=(0,h._)(["\n  width: 250px;\n  height: 100px;\n  border: 1px solid black;\n"]);return nt=function(){return e},e}function no(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n  width: 500px;\n"]);return no=function(){return e},e}let nc={width:250,height:100,offsetX:20,offsetY:20},nl=v.ZP.div(na()),ns=v.ZP.div(nt()),nd=v.ZP.input(no()),ni=[{userInfo:{userID:"4bfcd001-5ff1-4ec7-88fe-e395b05386b0",displayName:"我是柔柔",picture:"24661c0e-a4da-4d34-8d5b-f85ba5bf98bc.jpg",name:"",level:0,openID:"123",region:"TW",gloryroadMode:0},score:1e6,rank:1,meta:{eventoryKey:"4bfcd001-5ff1-4ec7-88fe-e395b05386b0"}},{userInfo:{userID:"ewe123",displayName:"我是硬硬且剛剛",picture:"789",name:"",level:0,openID:"789",region:"TW",gloryroadMode:0},score:1e6,rank:2,meta:{eventoryKey:"1234"}},{userInfo:{userID:"123gwe4",displayName:"我是剛剛",picture:"78910",name:"",level:0,openID:"7894",region:"TW",gloryroadMode:0},score:1e6,rank:3,meta:{eventoryKey:"1235"}},{userInfo:{userID:"123dd4",displayName:"我是軟軟",picture:"7891ee0",name:"",level:0,openID:"7894",region:"TW",gloryroadMode:0},score:1e6,rank:4,meta:{eventoryKey:"123we5"}}],nu=e=>{let{handleOnChange:r}=e;return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"Filter 主播名稱:"}),(0,m.jsx)(nd,{placeholder:"請輸入主播名稱",onChange:e=>r(e.target.value)})]})};var nf=y.memo(()=>{let{data:e,handleOnChange:r}=rB(ni);return(0,m.jsxs)("div",{children:[(0,m.jsx)(nu,{handleOnChange:r}),(0,m.jsx)("br",{}),"顯示資料為假資料，不是實際api資料，僅測試filter功能",(0,m.jsx)(nl,{children:(0,m.jsx)(ex,{itemStyle:nc,rowCount:4,user:e,children:e.map(e=>(0,m.jsxs)(ns,{children:[(0,m.jsx)("b",{children:"主播名稱:"})," ",e.userInfo.displayName,(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"Rank:"})," ",e.rank]},e.userInfo.userID))})})]})});let np=async e=>{let{userID:r,accessToken:n,jwtAccessToken:a,cursor:t,count:o=100,callback:c,preData:l=[]}=e,s=rc(),d="/v1/users/".concat(r,"/followeeIDs"),i=await s.get(d,{headers:{...a&&{Authorization:"Bearer ".concat(a)},...n&&{accessToken:n}},params:{count:o,cursor:t}}),{nextCursor:u,followeeIDs:f}=i.data,p=[...l,...f];if(c&&c(p),u){let e=await np({userID:r,accessToken:n,jwtAccessToken:a,cursor:u,callback:c,preData:p});return[...f,...e]}return f};var nb=(e,r,n)=>{let[a,t]=(0,y.useState)([]),[o,c]=(0,y.useState)("");return(0,y.useEffect)(()=>{let a=async()=>{try{if(!e){c("empty userID");return}if(!r&&!n){c("empty token");return}let a=await np({userID:e,accessToken:r,jwtAccessToken:n,callback:e=>{t(e)}});t(a),c("")}catch(e){if(t([]),(null==e?void 0:e.response)&&(null==e?void 0:e.response.data)){var a,o;c(null!==(o=null===(a=null==e?void 0:e.response.data)||void 0===a?void 0:a.errorMessage)&&void 0!==o?o:"something wrong!")}else c("something wrong!")}};a()},[e,r,n]),{followers:a,errorMsg:o}};function ng(){let e=(0,h._)(["\n  display: flex;\n  flex-wrap: wrap;\n  padding: 20px;\n"]);return ng=function(){return e},e}function nm(){let e=(0,h._)(["\n  flex: 1;\n  border: 1px solid black;\n  margin: 0 20px;\n"]);return nm=function(){return e},e}function ny(){let e=(0,h._)(["\n  min-width: 400px;\n"]);return ny=function(){return e},e}let nh=v.ZP.div(ng()),nv=v.ZP.div(nm()),nx=v.ZP.input(ny()),nD=e=>{let{errorMsg:r}=e;return(0,m.jsxs)("p",{children:["error: ",r]})},nI=()=>(0,m.jsx)("p",{children:"user hasn`'t follower any streamers."});var nj=y.memo(()=>{let{accessToken:e,jwtAccessToken:r,userID:n}=er(),a=null!=e?e:"fe45a40b-962d-44f4-acac-a8f5362fe611",t=null!=r?r:"",o=null!=n?n:"3a4464b5-8228-4d96-bd82-c0fe5e8be673",[c,l]=(0,y.useState)(o),[s,d]=(0,y.useState)(a),[i,u]=(0,y.useState)(t),[f,p]=(0,y.useState)(o),[b,g]=(0,y.useState)(a),[h,v]=(0,y.useState)(t),{followers:x,errorMsg:D}=nb(f,b,h);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"given user id and accessToken to get user followers.(get it from url or session token or whatever.)"}),(0,m.jsx)("p",{children:"Note: 搭配榜單使用時，須注意下面幾種情形."}),(0,m.jsxs)("ol",{children:[(0,m.jsx)("li",{children:"使用者無任何追蹤主播."}),(0,m.jsx)("li",{children:"使用者追蹤主播不在榜單上."}),(0,m.jsx)("li",{children:"正常顯示使者者追蹤主播在該榜上名單與排名."})]}),(0,m.jsxs)("p",{children:["test user id: ",(0,m.jsx)("br",{}),(0,m.jsx)(nx,{type:"text",defaultValue:c,onChange:e=>l(e.target.value)})]}),(0,m.jsxs)("p",{children:["test user accessToken: ",(0,m.jsx)("br",{}),(0,m.jsx)(nx,{type:"text",defaultValue:s,onChange:e=>d(e.target.value)})]}),(0,m.jsxs)("p",{children:["test user JWT: ",(0,m.jsx)("br",{}),(0,m.jsx)(nx,{type:"text",defaultValue:i,onChange:e=>u(e.target.value)})]}),(0,m.jsx)("button",{type:"button",onClick:()=>{p(c),g(s),v(i)},children:"確認"}),(0,m.jsx)("h3",{children:"追蹤名單"}),(0,m.jsx)(nh,{children:D?(0,m.jsx)(nD,{errorMsg:D}):x.length>0?x.map(e=>(0,m.jsxs)(nv,{children:[(0,m.jsx)("b",{children:"ID:"}),(0,m.jsx)("br",{}),e]},e)):(0,m.jsx)(nI,{})})]})});let nA=(e,r)=>{let n=performance.now(),a=0;a=requestAnimationFrame(function t(o){let c=(o-n)/e;c>1?c=1:c<0&&(c=0),r(c),c<1?a=requestAnimationFrame(t):cancelAnimationFrame(a)})};var nC=e=>{let{givenScore:r,duration:n=1e3,regionLanguage:a}=e,[t,o]=(0,y.useState)(r);return(0,y.useEffect)(()=>{nA(n,e=>{let n=t+Math.round(e*(r-t));o(n)})},[n,r,t]),H(t,a)},nE=y.memo(()=>{let[e,r]=(0,y.useState)(0),n=nC({givenScore:e});return(0,m.jsxs)("div",{children:[(0,m.jsx)("h3",{children:"useScore will animate to change the number and remove digit number."}),(0,m.jsx)("p",{children:"Please enter a natural number (max 10 digit)"}),(0,m.jsx)("input",{type:"number",value:e,onChange:e=>{let n=e.target.value;n.length>10||r(+n)}}),(0,m.jsxs)("p",{children:["score: ",n]})]})});let nk=(e,r,n,a)=>{var t,o;let c=!e||e<1?1:e,l=r.getImageData(0,0,n,a),s=null!==(t=null==l?void 0:l.data)&&void 0!==t?t:[],d=null!==(o=null==s?void 0:s.length)&&void 0!==o?o:0,i=0;for(let e=0;e<d;e+=c)0==+s[e]&&(i+=1);return Math.round(i/(d/c)*100)},nw=(e,r)=>{let n=0,a=0,t=0,o=0;if(r.offsetParent)for(;r=r.offsetParent;)n+=r.offsetLeft,a+=r.offsetTop;return nF(e)&&(t=e.pageX-n,o=e.pageY-a),nB(e)&&(t=e.touches[0].clientX-n+window.scrollX,o=e.touches[0].clientY-a+window.scrollY),{x:t,y:o}},nT=(e,r)=>Math.sqrt((r.x-e.x)**2+(r.y-e.y)**2),nN=(e,r)=>Math.atan2(r.x-e.x,r.y-e.y),nB=e=>e&&"touches"in e,nF=e=>e&&"screenX"in e;function nS(){let e=(0,h._)(["\n  position: relative;\n  width: ",";\n  height: ",";\n  margin: 0 auto;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n"]);return nS=function(){return e},e}function nM(){let e=(0,h._)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  word-break: break-all;\n"]);return nM=function(){return e},e}function nW(){let e=(0,h._)(["\n  position: absolute;\n  top: 0;\n"]);return nW=function(){return e},e}function nK(){let e=(0,h._)(["\n  display: none;\n"]);return nK=function(){return e},e}let nO=v.ZP.div(nS(),e=>"".concat(e.width,"px"),e=>"".concat(e.height,"px")),nR=v.ZP.div(nM()),nP=v.ZP.canvas(nW()),n_=v.ZP.img(nK());var nL=(0,y.memo)(e=>{let{revealPercentage:r=50,width:n,height:a,coverImgSrc:t,children:o,handleReveal:c}=e,l=(0,y.useRef)(null),s=(0,y.useRef)(null),[d,i]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{l.current.src=t,l.current.onload=()=>{i(!0)}},[t]),(0,y.useEffect)(()=>{let e,t;if(!d)return;let o=s.current,i=null==o?void 0:o.getContext("2d"),u=new Image;u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQflDBACJx9L/fHxAAAFpUlEQVRo3u3ZXWzVZx3A8c/p6ekLh5aWQwstCOWlULo1EMqIMHRsQ2lVRtLFxVu90mQ3u9ALo8nuzGJMNEYztyzGC/VmLlvQzA23sCHgBJyM8r7yspaWlgI9LYXCOT3HC7tOZ0/P6XkZiTnf/2Wf/p7v//e8/f7PoUiRIkWKFClSpMhslOT278ECqpWpkpCUzCVIaYHkwuqVGxbLTY9AAeSqhVW45ZpSQXdzC5bvIW6wRq0BQ4K222rYmAorbRIwkk3A/GUw6EEPGXFNn3Jf9oRV9hsV06pNyPf8RmDuA54fwWrbPGaJeyYNavV5S0FyOv5Nb3jN+85+9oJNOu1UJ6Reo5hSlTO0ShrQ52d+N9fwuaziGpt06NDinpggQipmbJkUUOnP9s29k+wEKzXbpUuboBIJF4xYqy7lphzAOftsckL/3LpKP8QBFWLiCEqotc4XPG6jejBgv7e0+pq1aeJcFVPr955318l8CQaUiksKaLFDvRoPa1YDRhz3hmMW2aNTVYb9TRg34CV79eRHkDrN6j1th0khjOtxyF8NCdtmlxZlmedjmqN+7KyYc+K5CIZs9lVbRJRLGjbqrH7Dolp1ajc/C7WPuWPcXs+Izt4s9SKpssVWa8Sc0euGgGq1GmwVUS8CEgJZb1SVKkTdTtcslWDAcnU+0uOGEct02KLUsBLjwuaLGTJqsZqsBW/6qefE0p0us4VfqEyVZhs0G/Cefitst1bIeYct9k2tWerddNQ/9UlY6E1/y1aQEitVGnJTzGpPWuSIg8YtstN3bMgyd/QYtVo1Ej7wawedNJF1tKkXabdROdr93MWpQjQ/T8IVu3PT+4T1jn4qeH4knxeaucO5HHV1HrHbEnGliIkJKJefiigiJJbLAIc94YiYpKRRl53SazRv+btoT6quM81gl2etEnVWr2qrrVCZt2I3YcSdVH/MrOQPaTHhFa+7KmyttcryWIvfE1LtQPpNOx0B3/BLx93J4wr++HlVQ25yQev80ImpWZjPJ6Hbs7npBTzkJb0FyFvSgB9pTrXFZEaLn+gviFzcAY/mdjVS72nnCiKXdM+vfC4XuQpPOSieZv5kqxfzgrpc9HhEfwGWRNKkj7zo68KZaaSeAWPez31nmoGkbq84oMrS3C5eljpQoNkXF7XXLgtyyWCJndZlmaF09y8Bk677e7qvkX+T6iyer8F5YfPmJHfPhEnhlN95Sf2O+JOjeoxlFjKV4G3jmuegN2nEdSWWCaUclYQez3nV9bm8cyrBuO7pt74roSxly4RBw+6Yr0GFUMqJf9bL3nNSTEjCZK6CRF0zz7gbQhYqn6FFzLABQ0qs0qRScJYKJ65Mp3aXDDrsncwFUy/0qPOuqdOowbypYbuBEKJOedkfDKrT5gGRqRdILViiVq1qLZZIGnZNItcMTtinT6eIuGGXXHLaAu26nXZL2AbfsnpK7KqoiAVpztUKjW4bVOZ25uX97GVnuV2aXHHJJWNWiKi03KO2appaqWNOeteQDjvSVOe39DrmjLdm/w6em+AnVGrzRQ/brHEqT2MuOG7IOYt0WT/L0RXX74zXHXfGqDuZDm6mgmUesNPjNk/dxzCmxzEXXBHRIOBJK/4nTtwtYQlX/MPbDrksmnYDn5F0H03LfN9T02pRx+13yCnjmm2x3YOWT83DmIRySUlDPnTDYhG/8Jq+XD4n0wuu06lWwk2nvWufY8YQ1G6P3VqUIuqiD1y3RpkRt7HIqL94x6l0t3/pSTfEVZpsc8spF/7j7CzXqkubhAFHnXZZQKVaX9Fhib1+q7sgldAcqLFOw/TFb0BElz+a0OO7mVZ6nx0lNnpB1Ak/sPJ+y3yaGl/yog8d9m2L77fMfxPQqMs+E7o9Y32husn+l6Zy1ZJ6vOltZ1LfrdxfggX7QbxIkSJFihQpUuT/hH8B3ldc+0sgu4IAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMTItMTZUMDI6Mzk6MDgrMDA6MDDoFCvFAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTEyLTE2VDAyOjM5OjA4KzAwOjAwmUmTeQAAAABJRU5ErkJggg==",i.drawImage(l.current,0,0,n,a);let f=r=>{e=!0,t=nw(r,o)},p=l=>{let s,d;if(!e)return;l.preventDefault();let f=nw(l,o),p=nT(t,f),b=nN(t,f);for(let e=0;e<p;e+=1)s=t.x+Math.sin(b)*e-25,d=t.y+Math.cos(b)*e-25,i.globalCompositeOperation="destination-out",i.drawImage(u,s,d);t=f;let g=nk(32,i,n,a);g>r&&(null==o?void 0:o.parentNode)&&(c(),null==o||o.parentNode.removeChild(o))},b=()=>{e=!1};return null==o||o.addEventListener("mousedown",f,!1),null==o||o.addEventListener("touchstart",f,!1),null==o||o.addEventListener("mousemove",p,!1),null==o||o.addEventListener("touchmove",p,!1),null==o||o.addEventListener("mouseup",b,!1),null==o||o.addEventListener("touchend",b,!1),()=>{null==o||o.removeEventListener("mousedown",f,!1),null==o||o.removeEventListener("touchstart",f,!1),null==o||o.removeEventListener("mousemove",p,!1),null==o||o.removeEventListener("touchmove",p,!1),null==o||o.removeEventListener("mouseup",b,!1),null==o||o.removeEventListener("touchend",b,!1)}},[c,r,a,n,d]),(0,m.jsxs)(nO,{width:n,height:a,children:[(0,m.jsx)(nP,{ref:s,width:n,height:a}),d&&(0,m.jsx)(nR,{children:o}),(0,m.jsx)(n_,{alt:"",ref:l,crossOrigin:"anonymous"})]})}),nZ=y.memo(()=>{let{coverImgSrc:e,width:r,height:n,revealPercentage:a}={coverImgSrc:"https://cdn.pixabay.com/photo/2015/04/19/08/32/marguerite-729510__480.jpg",width:737,height:480,revealPercentage:50},[t,o]=(0,y.useState)(0),[c,l]=(0,y.useState)(e),[s,d]=(0,y.useState)(r),[i,u]=(0,y.useState)(n),[f,p]=(0,y.useState)(a),[b,g]=(0,y.useState)(e),[h,v]=(0,y.useState)(r),[x,D]=(0,y.useState)(n),[I,j]=(0,y.useState)(a),A=(0,y.useCallback)(()=>{console.log("handle function after reveal.")},[]),C=()=>{g(c),v(s),D(i),j(f),E()},E=()=>{let e=k();if(t===e){E();return}o(e)},k=()=>Math.floor(100*Math.random());return(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{children:"ScratchOff Card"}),(0,m.jsx)("p",{children:"Given the scratch card container's width and height and the cover img url(relative or absolute url), the scratch off card will fit the container automatically. Also, custom the result section you want(HTML dom or just image..etc.)."}),(0,m.jsx)("p",{children:"Setting the fill percentage to reveal(default 50)."}),(0,m.jsxs)("div",{children:["image url:"," ",(0,m.jsx)("input",{type:"text",value:c,size:50,onChange:e=>l(e.target.value)})," ","width:"," ",(0,m.jsx)("input",{type:"text",value:s,onChange:e=>d(+e.target.value)})," ","height:"," ",(0,m.jsx)("input",{type:"text",value:i,onChange:e=>u(+e.target.value)})]}),(0,m.jsxs)("p",{children:["reveal percentage:"," ",(0,m.jsx)("input",{type:"number",min:1,value:f,onChange:e=>p(+e.target.value)})," ",(0,m.jsx)("button",{type:"button",onClick:C,disabled:!c||!s||!i||!f,children:"generate"})," "]}),(0,m.jsx)("p",{children:(0,m.jsx)("button",{type:"button",onClick:()=>{l(e),d(r),u(n),p(a)},children:"reset default setting"})}),(0,m.jsx)(nL,{width:h,height:x,coverImgSrc:b,handleReveal:A,revealPercentage:I,children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Congratulations!"}),(0,m.jsx)("h1",{children:(0,m.jsx)("code",{children:"Coupon code : 1651613335"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{type:"button",onClick:C,children:"replay again"}),(0,m.jsx)("p",{children:"same as generate behavior outside(using changing key to replay.)"})]})]})},t)]})});function nU(){let e=(0,h._)(["\n  &:before {\n    content: 'return value:';\n    display: block;\n  }\n  display: inline-block;\n  background-color: #cccccc;\n  padding: 5px 10px;\n"]);return nU=function(){return e},e}function nH(){let e=(0,h._)(["\n  margin-right: 20px;\n  padding: 5px 10px 5px 0;\n"]);return nH=function(){return e},e}function nJ(){let e=(0,h._)(["\n  margin-right: 20px;\n  padding: 5px 10px 5px 0;\n  width: 180px;\n"]);return nJ=function(){return e},e}let nG=v.ZP.span(nU()),nY=v.ZP.input(nH()),nV=v.ZP.input(nJ());var nq=y.memo(()=>{let[e,r]=(0,y.useState)([i.JAPAN]),n=n=>{let{value:a,checked:t}=n.target;if(t)r(e=>[a,...e]);else{if(e.length<=1){alert("should be keep at least one support language");return}r(e=>e.filter(e=>e!==a))}},a=[i.TAIWAN,i.CHINA,i.HONGKONG,i.JAPAN,i.EUROPE,i.ARAB],t=W(e),[o,c]=(0,y.useState)("2021-09-25T18:00:00+08:00"),[l,s]=(0,y.useState)("MM/DD(WN)hh:mm:ss"),d=e=>c(e.target.value),u=P(o,l,t),[f,p]=(0,y.useState)("剩餘 D 天 hh:mm:ss"),b=L({d:1,h:0,m:10,s:0,ms:0},f),g=Z(o);return(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{children:"Utils"}),(0,m.jsx)("h2",{children:"i18n"}),(0,m.jsx)("h3",{children:"getUserLangs"}),(0,m.jsx)("p",{children:"Get browser languages or manually queryString. e.g. ?lang=ja"}),(0,m.jsx)("br",{}),(0,m.jsx)(nG,{children:JSON.stringify(M())}),(0,m.jsx)("h3",{children:"getCurrentTranslateLang"}),(0,m.jsx)("p",{children:"這個方法可以拿到前端要顯示的語系"}),(0,m.jsx)("span",{children:"eventory 支援語系: "}),a.map(r=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("span",{children:r}),(0,m.jsx)(nY,{type:"checkbox",value:r,onChange:n,checked:e.includes(r)})]})),(0,m.jsx)("br",{}),(0,m.jsx)(nG,{children:t}),(0,m.jsx)("h3",{children:"getStringDateByLocalFormat"}),(0,m.jsx)("p",{children:"Get datetime text which shown on countdown date range, its language depends on RegionLanguage"}),"dateString: \xa0",(0,m.jsx)(nV,{type:"text",onChange:d,value:o}),(0,m.jsx)("br",{}),"format: \xa0",(0,m.jsx)(nV,{type:"text",onChange:e=>s(e.target.value),value:l}),(0,m.jsx)("br",{}),(0,m.jsx)(nG,{children:u}),(0,m.jsx)("h3",{children:"getStringDateCountdownByLocalFormat"}),(0,m.jsx)("p",{children:"Get datetime text which shown on countdown remaining time"}),"formatText: \xa0",(0,m.jsx)(nV,{type:"text",onChange:e=>p(e.target.value),value:f}),(0,m.jsx)("br",{}),(0,m.jsx)(nG,{children:b}),(0,m.jsx)("h3",{children:"convertDateToTime"}),(0,m.jsx)("p",{children:"Get time text which shown on countdown remaining time. * if remaining time is less than one day."}),"dateString: \xa0",(0,m.jsx)(nV,{type:"text",onChange:d,value:o}),(0,m.jsx)("br",{}),(0,m.jsx)(nG,{children:g})]})}),nz=e=>{(0,y.useEffect)(()=>{if(e){let e=document.getElementById("loading-container");e&&e.scrollIntoView()}},[e])};function nX(){let e=(0,h._)(["\n  padding-top: 800px;\n  background-color: #8585de;\n"]);return nX=function(){return e},e}let nQ=v.ZP.div(nX());var n$=y.memo(()=>(nz(!0),(0,m.jsx)("div",{children:(0,m.jsx)(nQ,{children:(0,m.jsx)("div",{id:"loading-container",children:(0,m.jsx)("h3",{children:"移動到這裡"})})})}))),n0=n(6738);function n4(){let e=(0,h._)(["\n  height: ","px !important;\n  overflow: hidden !important;\n  .virtualized-item:first-of-type,\n  .virtualized-item:last-of-type {\n    overflow: hidden;\n  }\n"]);return n4=function(){return e},e}let n1=(0,v.ZP)(n0.S_)(n4(),e=>e.calculatedHeight),n8=e=>{let{index:r,style:n,children:a,rank:t}=e,o=(0,y.useRef)(null);return(0,m.jsx)("div",{ref:o,style:n,className:"virtualized-item",children:a({index:r})})},n2=e=>{let{dataset:r,children:n,itemHeight:a=80,panelSize:t=0}=e,o=(0,y.useRef)(!1),c=(0,y.useRef)(null),l=C(),s=(0,y.useCallback)(()=>{if(c.current){let e=c.current._outerRef.getBoundingClientRect();return e.top<0?-e.top:0}return -1},[c]),d=(0,y.useCallback)(()=>{let e=s();e>=0&&c.current.scrollTo(e)},[s]);return(0,y.useEffect)(()=>(window.addEventListener("scroll",d,!0),()=>window.removeEventListener("scroll",d,!0)),[d]),(0,y.useEffect)(()=>{if(!o.current&&l.streamerUserID){let e=r.findIndex(e=>e.userInfo.userID===l.streamerUserID);e>-1&&(window.scrollTo({top:U(c.current._outerRef).top+e*a}),o.current=!0)}},[r,a,l.streamerUserID]),(0,y.useEffect)(()=>{c.current.resetAfterIndex(0,!0),setTimeout(()=>{d()})},[d,r]),(0,m.jsx)(n1,{ref:c,height:window.innerHeight,itemCount:r.length,itemSize:()=>a,width:"100%",calculatedHeight:r.length*a+2,initialScrollOffset:s(),children:e=>{let{index:a,style:t}=e;return(0,m.jsx)(n8,{index:a,style:t,children:n,rank:r[a].rank})}})};var n9=JSON.parse('{"type":"dbda13a5-70b4-445a-95a5-52f0802c4781","nextCursor":"","data":[{"userInfo":{"userID":"4bfcd001-5ff1-4ec7-88fe-e395b05386b0","displayName":"我是柔柔","picture":"24661c0e-a4da-4d34-8d5b-f85ba5bf98bc.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1000000,"rank":1,"meta":{"eventoryKey":"4bfcd001-5ff1-4ec7-88fe-e395b05386b0"}},{"userInfo":{"userID":"d6bcb865-92c7-4e81-9fa2-0f0c9facf081","displayName":"珊珊shanshan","picture":"90246e42-6e13-48d3-995f-097804d4aa48.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1000000,"rank":2,"meta":{"eventoryKey":"d6bcb865-92c7-4e81-9fa2-0f0c9facf081"}},{"userInfo":{"userID":"05ad62f4-0dd2-4afc-aed8-e7841b50d28a","displayName":"ivy_112","picture":"B37A798D-19D6-4D98-8E1C-B58FE0EBA857.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1000000,"rank":3,"meta":{"eventoryKey":"05ad62f4-0dd2-4afc-aed8-e7841b50d28a"}},{"userInfo":{"userID":"857745e9-2259-4826-9ef2-dd67d57aaa19","displayName":"安妞我是JO","picture":"F4CECF04-0F73-41ED-903B-ED03A9A008BA.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":950000,"rank":4,"meta":{"eventoryKey":"857745e9-2259-4826-9ef2-dd67d57aaa19"}},{"userInfo":{"userID":"44ee7d31-1f46-4186-9fb9-2bb845857609","displayName":"17阿妞\uD83D\uDC8B","picture":"1B13BEFE-0C97-4CE7-B699-099D6E8C13CC.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":950000,"rank":5,"meta":{"eventoryKey":"44ee7d31-1f46-4186-9fb9-2bb845857609"}},{"userInfo":{"userID":"196e1fbb-8a45-4d88-9d84-a6366c481c97","displayName":"Q楊元元","picture":"7E0CDB83-4CC0-410F-A550-AC89A1DCF5E4.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":950000,"rank":6,"meta":{"eventoryKey":"196e1fbb-8a45-4d88-9d84-a6366c481c97"}},{"userInfo":{"userID":"660f004c-1df7-4ed7-94b3-8c8519735fe5","displayName":"香香芸☁️","picture":"CA9F28AA-40F7-4525-9C0B-5E957DBEB66A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":950000,"rank":7,"meta":{"eventoryKey":"660f004c-1df7-4ed7-94b3-8c8519735fe5"}},{"userInfo":{"userID":"322476da-0812-49a9-b3f9-822a96247158","displayName":"甯兒❤️","picture":"B38AF301-766B-4FBF-8904-7CF1F78A838F.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":900000,"rank":8,"meta":{"eventoryKey":"322476da-0812-49a9-b3f9-822a96247158"}},{"userInfo":{"userID":"bcba0c14-26d0-43ee-ac28-adba37fef8c5","displayName":"a232295","picture":"62FEC0C0-7B2D-4487-9796-2E70EE15723C.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":900000,"rank":9,"meta":{"eventoryKey":"bcba0c14-26d0-43ee-ac28-adba37fef8c5"}},{"userInfo":{"userID":"a70532fb-b284-4177-8d56-73e656acfcf2","displayName":"mm巧克力_bb","picture":"5D80F9C1-6DDF-40D9-ABC1-594B911C99B4.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":900000,"rank":10,"meta":{"eventoryKey":"a70532fb-b284-4177-8d56-73e656acfcf2"}},{"userInfo":{"userID":"e7f163f3-21d9-471f-9368-f223a81167c6","displayName":"倪耐斯","picture":"76E67480-7938-4071-85BD-02A687A75AEF.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":900000,"rank":11,"meta":{"eventoryKey":"e7f163f3-21d9-471f-9368-f223a81167c6"}},{"userInfo":{"userID":"27992448-f400-466e-bcb8-8c1a2a1d378f","displayName":"liese1217","picture":"282E050E-632A-4147-A3D6-854E376CF95D.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":850000,"rank":12,"meta":{"eventoryKey":"27992448-f400-466e-bcb8-8c1a2a1d378f"}},{"userInfo":{"userID":"1fc6add3-8580-4f6c-8357-33bd2b4fd5d6","displayName":"陳萱萱萱","picture":"F3F51F55-FED6-499E-91CC-9A2512F2AECB.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":850000,"rank":13,"meta":{"eventoryKey":"1fc6add3-8580-4f6c-8357-33bd2b4fd5d6"}},{"userInfo":{"userID":"d8302048-6c18-4765-946f-7d04da5806dd","displayName":"a940325988","picture":"51861A41-461A-47BE-B1A3-D55BCCF2A6A9.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":850000,"rank":14,"meta":{"eventoryKey":"d8302048-6c18-4765-946f-7d04da5806dd"}},{"userInfo":{"userID":"589ae7a4-b45e-467d-a78a-4cd18485352d","displayName":"花神\uD83C\uDF63Flora","picture":"61BB59BC-ADD5-45EF-976D-C1DD12FEDEDC.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":850000,"rank":15,"meta":{"eventoryKey":"589ae7a4-b45e-467d-a78a-4cd18485352d"}},{"userInfo":{"userID":"3f66e7a2-1490-4f23-a45a-0dd852211fb9","displayName":"在下日久","picture":"8c4b20a6-585c-4311-8001-1ed05a7d09c1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":850000,"rank":16,"meta":{"eventoryKey":"3f66e7a2-1490-4f23-a45a-0dd852211fb9"}},{"userInfo":{"userID":"92c3883e-468e-4f84-b61a-9885bfe35e14","displayName":"盧筱比be","picture":"C01C8B9A-5A01-4285-8880-52CFDA94449A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":802000,"rank":17,"meta":{"eventoryKey":"92c3883e-468e-4f84-b61a-9885bfe35e14"}},{"userInfo":{"userID":"68e9ebde-f39a-4eb9-95c1-e57845737d85","displayName":"菲菲miffy","picture":"7942A0C7-AA31-4C1B-8BD6-0BA31E5E7FAB.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800000,"rank":18,"meta":{"eventoryKey":"68e9ebde-f39a-4eb9-95c1-e57845737d85"}},{"userInfo":{"userID":"b26c9466-f146-4cdb-af6f-8b78fcc06427","displayName":"飯飯Bunny❤️\uD83D\uDC30","picture":"ac2efca9-49da-439e-8eb6-ca577d70ac94.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800000,"rank":19,"meta":{"eventoryKey":"b26c9466-f146-4cdb-af6f-8b78fcc06427"}},{"userInfo":{"userID":"c79db16b-03ea-45c1-bb04-66d735701ea7","displayName":"puni_baobao","picture":"88802b48-0b1e-47bc-b75d-f8433575e399.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800000,"rank":20,"meta":{"eventoryKey":"c79db16b-03ea-45c1-bb04-66d735701ea7"}},{"userInfo":{"userID":"7106a387-1b47-4ee9-b786-a84599fd3aea","displayName":"凡凡_FanFan","picture":"5ad597a4-f36f-4e1c-9306-ae1f6761d262.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800000,"rank":21,"meta":{"eventoryKey":"7106a387-1b47-4ee9-b786-a84599fd3aea"}},{"userInfo":{"userID":"60914c79-d749-471e-9f7b-55e0b5d9eccb","displayName":"小紫Alone\uD83D\uDC9C","picture":"C2821820-BC30-4BE3-81E3-0D09C1965FC1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800000,"rank":22,"meta":{"eventoryKey":"60914c79-d749-471e-9f7b-55e0b5d9eccb"}},{"userInfo":{"userID":"e4cfa1c2-38b5-488c-bd49-8c553fc02965","displayName":"吃貨a琳達","picture":"D7DA415A-0D35-42D3-B65D-AF7DB8B3BDC3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":750000,"rank":23,"meta":{"eventoryKey":"e4cfa1c2-38b5-488c-bd49-8c553fc02965"}},{"userInfo":{"userID":"a855a1f2-1d87-448d-9ec7-a11caded4db0","displayName":"nico澄奈","picture":"06328161-CD30-4C15-BC68-EF572E101EE1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":750000,"rank":24,"meta":{"eventoryKey":"a855a1f2-1d87-448d-9ec7-a11caded4db0"}},{"userInfo":{"userID":"adaea63f-b515-4ecc-88f7-b9033dc9f423","displayName":"cat851214girl","picture":"36E3F4F0-5755-439F-AFE2-3E57783089EA.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":750000,"rank":25,"meta":{"eventoryKey":"adaea63f-b515-4ecc-88f7-b9033dc9f423"}},{"userInfo":{"userID":"e5380f27-a5e9-4acd-a529-a6e8f5b5e72e","displayName":"Yona鴿鴿","picture":"8732F7A6-841D-45E7-A17C-FEDBBCF2C503.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":750000,"rank":26,"meta":{"eventoryKey":"e5380f27-a5e9-4acd-a529-a6e8f5b5e72e"}},{"userInfo":{"userID":"5828e673-3ced-48ee-b77a-66103547b0f1","displayName":"風紀股長_","picture":"8F5697B6-F033-4C52-AF1E-A27F1ED2927A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":700000,"rank":27,"meta":{"eventoryKey":"5828e673-3ced-48ee-b77a-66103547b0f1"}},{"userInfo":{"userID":"7eac4fdf-55d1-4fbd-aa0d-8230507c21a4","displayName":"栗子安_","picture":"63031AFA-45D7-4B84-A546-C317C933AE58.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":700000,"rank":28,"meta":{"eventoryKey":"7eac4fdf-55d1-4fbd-aa0d-8230507c21a4"}},{"userInfo":{"userID":"51b29fd1-b945-44f3-ba7d-1cb184972060","displayName":"夏允芮\uD83C\uDF53","picture":"5426CC52-626F-41F7-BCBB-A505709CE3B6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":29,"meta":{"eventoryKey":"51b29fd1-b945-44f3-ba7d-1cb184972060"}},{"userInfo":{"userID":"40853b8c-f3d4-4a08-83b4-ad40372357a2","displayName":"柔柔syuan","picture":"0D15AB5C-C69A-454C-AB01-A757FD65E72A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":30,"meta":{"eventoryKey":"40853b8c-f3d4-4a08-83b4-ad40372357a2"}},{"userInfo":{"userID":"cdbf8057-2f63-44d2-b98a-caa49413b644","displayName":"ice30678","picture":"19A221AF-EAC6-4F05-8406-A7876B021D25.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":31,"meta":{"eventoryKey":"cdbf8057-2f63-44d2-b98a-caa49413b644"}},{"userInfo":{"userID":"3e62441b-12b1-4a48-8df7-5404f7562d04","displayName":"包心粉圓","picture":"4B19F120-8216-4184-8C83-36E2B78B00AC.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":32,"meta":{"eventoryKey":"3e62441b-12b1-4a48-8df7-5404f7562d04"}},{"userInfo":{"userID":"9a0507ab-8cdc-4220-a69a-4ed7b1126b98","displayName":"泡泡111","picture":"A0ACDE84-B01C-4F13-9407-5E1EBCE7AA11.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":33,"meta":{"eventoryKey":"9a0507ab-8cdc-4220-a69a-4ed7b1126b98"}},{"userInfo":{"userID":"4d1d23c0-fd84-4d78-bf9c-123628902ce1","displayName":"酪梨Avo","picture":"1aa3dff6-4f3c-42ce-a9cc-f8ef08549385.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":650000,"rank":34,"meta":{"eventoryKey":"4d1d23c0-fd84-4d78-bf9c-123628902ce1"}},{"userInfo":{"userID":"eb882915-12de-4177-9e82-603e13f01c2e","displayName":"美伊","picture":"65db7799-8540-4047-ae27-833490b18257.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":600000,"rank":35,"meta":{"eventoryKey":"eb882915-12de-4177-9e82-603e13f01c2e"}},{"userInfo":{"userID":"e4fd7aab-90f4-43e9-a262-24aa99ef3196","displayName":"馨方Waa\uD83C\uDF37","picture":"4738BFD0-1681-440B-AA7E-3261C380D4A8.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":600000,"rank":36,"meta":{"eventoryKey":"e4fd7aab-90f4-43e9-a262-24aa99ef3196"}},{"userInfo":{"userID":"a88dd4bf-6161-4254-aa3c-45338ce70324","displayName":"mia麥麥","picture":"3fb17ac5-843a-401d-9e00-bb860d7c5180.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":600000,"rank":37,"meta":{"eventoryKey":"a88dd4bf-6161-4254-aa3c-45338ce70324"}},{"userInfo":{"userID":"204673b2-a236-4bb5-49eb-5f3be7cc5df7","displayName":"啾啾\uD83D\uDC8BJolie","picture":"4E806C0C-A309-49B6-8A5B-A580ECCBB3F6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":38,"meta":{"eventoryKey":"204673b2-a236-4bb5-49eb-5f3be7cc5df7"}},{"userInfo":{"userID":"ecd287c1-de67-4d8c-beb1-5eabd4cebf18","displayName":"足球寶貝明古屋","picture":"91A44B06-D94F-4042-A9AA-C790799D3CC6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":39,"meta":{"eventoryKey":"ecd287c1-de67-4d8c-beb1-5eabd4cebf18"}},{"userInfo":{"userID":"9bb5ee6f-b7ed-4693-80d6-8bf49880ad5e","displayName":"芋泥小包","picture":"C65FD4D4-7E92-4B0F-BD17-EA4091A80E94.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":40,"meta":{"eventoryKey":"9bb5ee6f-b7ed-4693-80d6-8bf49880ad5e"}},{"userInfo":{"userID":"a99111f6-9602-44ac-b175-e26eecc11cb1","displayName":"羽毛兒","picture":"C0638B9E-D8DC-4A0D-9D84-0326C4AAB5A6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":41,"meta":{"eventoryKey":"a99111f6-9602-44ac-b175-e26eecc11cb1"}},{"userInfo":{"userID":"91dbb14a-3f81-4f20-a74c-92f4240ace90","displayName":"借物少女vivi","picture":"21C73B37-1100-4712-8CCF-FCDDABB99E16.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":42,"meta":{"eventoryKey":"91dbb14a-3f81-4f20-a74c-92f4240ace90"}},{"userInfo":{"userID":"c56bb155-452a-4ac6-9863-4e84b03cf2fa","displayName":"泡泡❤️BUBBLE","picture":"1647019D-B46F-40C3-9291-41EF93974BC2.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":500000,"rank":43,"meta":{"eventoryKey":"c56bb155-452a-4ac6-9863-4e84b03cf2fa"}},{"userInfo":{"userID":"62da6bdb-70c9-4b16-b82d-a56db1eecf1b","displayName":"grace雅雅","picture":"49450905-DE14-4A89-B836-B97B9FD3E147.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":450000,"rank":44,"meta":{"eventoryKey":"62da6bdb-70c9-4b16-b82d-a56db1eecf1b"}},{"userInfo":{"userID":"2c3f462a-4ed6-4bad-a0e9-d41e834bd2aa","displayName":"囂張歌神\uD83C\uDFA7惟翔","picture":"B7619726-9643-42E5-9142-FE2FEBDB366B.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400000,"rank":45,"meta":{"eventoryKey":"2c3f462a-4ed6-4bad-a0e9-d41e834bd2aa"}},{"userInfo":{"userID":"1609b29a-24fd-45c5-a6ce-5d35dc4eb1d5","displayName":"glad._.gladys","picture":"C86069F1-AF82-451D-88FF-86ECDF00D924.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400000,"rank":46,"meta":{"eventoryKey":"1609b29a-24fd-45c5-a6ce-5d35dc4eb1d5"}},{"userInfo":{"userID":"52513019-b731-4560-abb2-6a9b7bdc6718","displayName":"小悅悅\uD83D\uDC89","picture":"8E29759D-C8F2-4C96-A3BB-7BBC14EA7ED2.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400000,"rank":47,"meta":{"eventoryKey":"52513019-b731-4560-abb2-6a9b7bdc6718"}},{"userInfo":{"userID":"1555d9d8-efcc-4da0-85ae-be2aa7a3be7d","displayName":"許夏天summer","picture":"72A71CFC-19E4-4B2A-ACF2-594C53CC2CE4.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400000,"rank":48,"meta":{"eventoryKey":"1555d9d8-efcc-4da0-85ae-be2aa7a3be7d"}},{"userInfo":{"userID":"4fbac3fc-8435-45ca-864d-93727af21ceb","displayName":"molly7_7","picture":"7AE96E7A-2FE7-471B-9010-FE01A8786DB3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":350000,"rank":49,"meta":{"eventoryKey":"4fbac3fc-8435-45ca-864d-93727af21ceb"}},{"userInfo":{"userID":"41e5db8e-7498-4189-a648-db52569c0da2","displayName":"我4森森\uD83C\uDF70國民女友","picture":"7B0DCDFF-30E6-4DDE-B71D-266DD69D7BD8.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":350000,"rank":50,"meta":{"eventoryKey":"41e5db8e-7498-4189-a648-db52569c0da2"}},{"userInfo":{"userID":"96baf570-da29-4ed9-bbab-eebbda202e5d","displayName":"潔兒jr","picture":"973152d4-8333-4640-b251-99edecdef8ef.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":350000,"rank":51,"meta":{"eventoryKey":"96baf570-da29-4ed9-bbab-eebbda202e5d"}},{"userInfo":{"userID":"2a5b5296-a15b-4ecf-b658-576c16dcbb67","displayName":"千代_JD","picture":"A30929DC-BBB7-4D4F-9ABE-E856FA5FAA08.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":350000,"rank":52,"meta":{"eventoryKey":"2a5b5296-a15b-4ecf-b658-576c16dcbb67"}},{"userInfo":{"userID":"89e84d1d-aedd-45fe-b007-0e828140f906","displayName":"諾諾娜娜","picture":"CE1C52D4-04F3-426B-AE9A-1A3B57781AC9.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":300000,"rank":53,"meta":{"eventoryKey":"89e84d1d-aedd-45fe-b007-0e828140f906"}},{"userInfo":{"userID":"6b28b064-3ca9-43e5-91b8-758799fb13fc","displayName":"妮妮nini_Baby","picture":"fb667fcc-496c-4e1b-b688-ffdffd238f4f.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":250000,"rank":54,"meta":{"eventoryKey":"6b28b064-3ca9-43e5-91b8-758799fb13fc"}},{"userInfo":{"userID":"c8539893-1f1d-4555-ba90-fcadf72673e8","displayName":"球球__bo⚽","picture":"4347BAA9-2159-41DE-866E-2A09382DB8C6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200000,"rank":55,"meta":{"eventoryKey":"c8539893-1f1d-4555-ba90-fcadf72673e8"}},{"userInfo":{"userID":"b0dfa169-6f4f-4fce-b682-e2e275294bdf","displayName":"米勾Migo\uD83D\uDDA4","picture":"0FD3D148-5B75-4370-BAEF-13034734BBA1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200000,"rank":56,"meta":{"eventoryKey":"b0dfa169-6f4f-4fce-b682-e2e275294bdf"}},{"userInfo":{"userID":"41a9cc8e-25ad-4793-9ffd-8d1522dbf4f6","displayName":"愛莉絲aries","picture":"d2c31028-0ddd-4466-9ba7-85a63c9c4fdb.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200000,"rank":57,"meta":{"eventoryKey":"41a9cc8e-25ad-4793-9ffd-8d1522dbf4f6"}},{"userInfo":{"userID":"a3bc93ef-d26f-4b58-b901-a8552d8f635e","displayName":"寶貝靜\uD83D\uDC96","picture":"94d5309e-f971-4b48-92cd-ab467e4633ee.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":150000,"rank":58,"meta":{"eventoryKey":"a3bc93ef-d26f-4b58-b901-a8552d8f635e"}},{"userInfo":{"userID":"2f1b903a-a122-40d4-92e4-c334730e919d","displayName":"edith_life","picture":"4EF8F3BF-2600-49B9-883E-95575EB4F6EF.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":100000,"rank":59,"meta":{"eventoryKey":"2f1b903a-a122-40d4-92e4-c334730e919d"}},{"userInfo":{"userID":"dcafcb4b-09a8-4453-651a-ddfa93d7fb07","displayName":"易冷Yileng\uD83C\uDFA4好聲音","picture":"21a56b16-139c-454f-8d61-966b418f9132.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":100000,"rank":60,"meta":{"eventoryKey":"dcafcb4b-09a8-4453-651a-ddfa93d7fb07"}},{"userInfo":{"userID":"c24bb856-e94c-4b9b-842d-816a4579c6bb","displayName":"gogo小火柴","picture":"4115FD31-DF54-4D51-B6FC-72A33C2E06A7.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":50000,"rank":61,"meta":{"eventoryKey":"c24bb856-e94c-4b9b-842d-816a4579c6bb"}},{"userInfo":{"userID":"7a30f46f-91c6-4c01-ab67-31d7d88276e7","displayName":"凌薇\uD83E\uDDDA‍♀️","picture":"9abde68e-0ef4-49b8-98d9-47de96c1a0d1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":9000,"rank":62,"meta":{"eventoryKey":"7a30f46f-91c6-4c01-ab67-31d7d88276e7"}},{"userInfo":{"userID":"9915da8b-46a3-4c8f-a52a-c9798e677b8f","displayName":"胖妞小姐","picture":"0FAA9960-5487-49BF-ACF7-1A76439C7E29.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":4000,"rank":63,"meta":{"eventoryKey":"9915da8b-46a3-4c8f-a52a-c9798e677b8f"}},{"userInfo":{"userID":"0a69f926-7c77-48de-7133-385b8ef98d3e","displayName":"Kira琪拉","picture":"D70D7ACA-7BFF-4912-88BB-D4F3075FF94C.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":4000,"rank":64,"meta":{"eventoryKey":"0a69f926-7c77-48de-7133-385b8ef98d3e"}},{"userInfo":{"userID":"b825a36b-f1fb-4a00-9ffb-6d84d5fd7c68","displayName":"韻安Ann\uD83D\uDC97","picture":"C06B6DF6-2A2F-42C8-A9B8-E25A54FB07F1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3800,"rank":65,"meta":{"eventoryKey":"b825a36b-f1fb-4a00-9ffb-6d84d5fd7c68"}},{"userInfo":{"userID":"fc8548af-1a44-4fce-b147-59761d1b8477","displayName":"小敏uuu","picture":"0b3bcf00-0452-469b-b0b6-c759ed24da7b.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3800,"rank":66,"meta":{"eventoryKey":"fc8548af-1a44-4fce-b147-59761d1b8477"}},{"userInfo":{"userID":"ca7381b8-68f7-4ef8-a4b0-f00f0ebf9af1","displayName":"peggyy88","picture":"86DAAA2D-2396-4FE8-8BA4-924341B62290.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3600,"rank":67,"meta":{"eventoryKey":"ca7381b8-68f7-4ef8-a4b0-f00f0ebf9af1"}},{"userInfo":{"userID":"ba94757e-3926-4c81-9c9d-8c4513bb2b7b","displayName":"菲那Verna","picture":"4B668A08-ACEF-418D-BBEC-7714B1742A77.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3600,"rank":68,"meta":{"eventoryKey":"ba94757e-3926-4c81-9c9d-8c4513bb2b7b"}},{"userInfo":{"userID":"b5bdc74f-87b8-4b91-95a3-f1d0aa35e47e","displayName":"COCO彣彣兒","picture":"6364332C-479A-48F1-ACB2-927D0F5B4249.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3600,"rank":69,"meta":{"eventoryKey":"b5bdc74f-87b8-4b91-95a3-f1d0aa35e47e"}},{"userInfo":{"userID":"de328680-c746-41ff-9114-0609260d9a5c","displayName":"傻喵喵Meow","picture":"43F436DC-CEA5-4FE3-8430-3CDDC225F175.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":70,"meta":{"eventoryKey":"de328680-c746-41ff-9114-0609260d9a5c"}},{"userInfo":{"userID":"9e8e63d3-0fdf-4952-b95d-c5a2d3752fe0","displayName":"娜娜子baobao","picture":"9EAE9AB5-F2FA-4C70-AC66-BB8C6C725E14.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":71,"meta":{"eventoryKey":"9e8e63d3-0fdf-4952-b95d-c5a2d3752fe0"}},{"userInfo":{"userID":"46e139a8-612d-4d65-a065-cfef921db740","displayName":"小雨Rainie","picture":"885C199E-24CD-4FBD-8DD2-A3460C68BAA1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":72,"meta":{"eventoryKey":"46e139a8-612d-4d65-a065-cfef921db740"}},{"userInfo":{"userID":"534fbbef-2760-46b7-be8c-4da82bd04253","displayName":"小酷酷cook","picture":"DD1D1936-9533-49C9-9C93-A4C988969193.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":73,"meta":{"eventoryKey":"534fbbef-2760-46b7-be8c-4da82bd04253"}},{"userInfo":{"userID":"f383bd81-db3d-43d1-82d9-4f2bf65e368c","displayName":"李芯","picture":"B441EDC2-38F9-4F6D-9105-29882E6A4ED3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":74,"meta":{"eventoryKey":"f383bd81-db3d-43d1-82d9-4f2bf65e368c"}},{"userInfo":{"userID":"51d5a21b-01d3-4b0b-b729-186f67fe6079","displayName":"泰俞Laura","picture":"68C06AE3-4B4C-4FDE-B7EE-B715B5307B8A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":75,"meta":{"eventoryKey":"51d5a21b-01d3-4b0b-b729-186f67fe6079"}},{"userInfo":{"userID":"bb1d986e-8141-4d2e-6699-287b97150b14","displayName":"小護士\uD83D\uDC89年允允\uD83D\uDC8D","picture":"B57B3CB7-DA70-45C4-A943-30068AD495D9.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":76,"meta":{"eventoryKey":"bb1d986e-8141-4d2e-6699-287b97150b14"}},{"userInfo":{"userID":"479b8bf3-95f2-48da-af3e-5514f7a85866","displayName":"炸彈超人","picture":"95D27EA8-5AAF-40CC-B390-22C3F6177B8D.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3400,"rank":77,"meta":{"eventoryKey":"479b8bf3-95f2-48da-af3e-5514f7a85866"}},{"userInfo":{"userID":"426cbc9a-6cee-41de-9dc7-4519a39b41f4","displayName":"體操甜心\uD83D\uDC99霖霖","picture":"523EFCEB-F3C3-466A-B693-F7B797684697.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3200,"rank":78,"meta":{"eventoryKey":"426cbc9a-6cee-41de-9dc7-4519a39b41f4"}},{"userInfo":{"userID":"6d7070e7-600a-4a9b-81b3-f360cc7eb56c","displayName":"Phoebe甯甯兒","picture":"1520079b-aff2-42aa-a62d-75a838cb8e4b.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3200,"rank":79,"meta":{"eventoryKey":"6d7070e7-600a-4a9b-81b3-f360cc7eb56c"}},{"userInfo":{"userID":"8abd2212-c62e-4478-4448-377f71481fe4","displayName":"艾瑞思思Aires","picture":"A7E2EC96-F339-4DF4-AECF-6C83D83288A6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3000,"rank":80,"meta":{"eventoryKey":"8abd2212-c62e-4478-4448-377f71481fe4"}},{"userInfo":{"userID":"8a1cb33e-09c0-431f-8ae3-6a9d2d7a18a8","displayName":"元仔\uD83D\uDC08","picture":"4AECA098-2928-4EDB-B97D-4D436D6703AD.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3000,"rank":81,"meta":{"eventoryKey":"8a1cb33e-09c0-431f-8ae3-6a9d2d7a18a8"}},{"userInfo":{"userID":"94600d0a-ab37-4b34-b21c-fc8ad3f1aeb1","displayName":"nini仲兒\uD83C\uDF38","picture":"FA331A69-1D67-4E34-BFE3-67A19EED3CE3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3000,"rank":82,"meta":{"eventoryKey":"94600d0a-ab37-4b34-b21c-fc8ad3f1aeb1"}},{"userInfo":{"userID":"19e17990-2fa8-4243-9c0a-fe70d4d656c6","displayName":"cole星羽","picture":"24EB778F-E01F-4FF4-BCC3-2662F1B24D89.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":3000,"rank":83,"meta":{"eventoryKey":"19e17990-2fa8-4243-9c0a-fe70d4d656c6"}},{"userInfo":{"userID":"33b92014-4da9-4469-981e-c3e4b01efe19","displayName":"林昀Yunyun\uD83D\uDC8B","picture":"606E4DAF-3E58-4B62-B546-8BF8703B0E71.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2800,"rank":84,"meta":{"eventoryKey":"33b92014-4da9-4469-981e-c3e4b01efe19"}},{"userInfo":{"userID":"4c285b80-3a14-4fcf-b561-ce7d027f9fcc","displayName":"愛熊寶寶","picture":"383234B6-4763-4FEE-83EB-BD5AF1D09CDA.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2800,"rank":85,"meta":{"eventoryKey":"4c285b80-3a14-4fcf-b561-ce7d027f9fcc"}},{"userInfo":{"userID":"975939c8-059e-4b3b-ae97-dabd2e7aeb03","displayName":"妮愛唱歌","picture":"e3bef370-c8a3-48bf-9393-69bfc279ee9d.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2800,"rank":86,"meta":{"eventoryKey":"975939c8-059e-4b3b-ae97-dabd2e7aeb03"}},{"userInfo":{"userID":"aabda722-dbb7-46a9-9003-1c8507f8ab08","displayName":"飛天創藝\uD83D\uDC8B溫妮","picture":"5e569e87-a24b-473f-a35c-3aac894bdfa7.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2800,"rank":87,"meta":{"eventoryKey":"aabda722-dbb7-46a9-9003-1c8507f8ab08"}},{"userInfo":{"userID":"158adaf1-fb37-42a9-91d5-b123bbadfad8","displayName":"咪麻糬eva","picture":"3719A495-8E04-4A7F-9F4A-1C9DA4BF1587.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2600,"rank":88,"meta":{"eventoryKey":"158adaf1-fb37-42a9-91d5-b123bbadfad8"}},{"userInfo":{"userID":"ed92273d-f621-481d-88a0-03bf308572ed","displayName":"甜美女聲Dora","picture":"1905C551-C733-4500-A8D1-5B29B859BBD8.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2600,"rank":89,"meta":{"eventoryKey":"ed92273d-f621-481d-88a0-03bf308572ed"}},{"userInfo":{"userID":"3fd4ab7d-2c3c-4378-9edb-66aae214f0d3","displayName":"安狄Andrew\uD83E\uDD85","picture":"06ED33B1-3EBF-4B52-844D-0FC53E09FB36.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":90,"meta":{"eventoryKey":"3fd4ab7d-2c3c-4378-9edb-66aae214f0d3"}},{"userInfo":{"userID":"0eca806e-d9d8-4678-bb72-f5b746d38ac8","displayName":"安妮塔Anita\uD83C\uDF39\uD83D\uDC8B","picture":"9F7907B9-4CED-4960-87B5-2D2F9E1CA8FD.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":91,"meta":{"eventoryKey":"0eca806e-d9d8-4678-bb72-f5b746d38ac8"}},{"userInfo":{"userID":"4df3dba2-8261-4b83-91a7-f3a57a81b76a","displayName":"貓奴西卡\uD83D\uDE3Bjc","picture":"A132F6FC-78F3-4BE3-A944-2161CC05D280.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":92,"meta":{"eventoryKey":"4df3dba2-8261-4b83-91a7-f3a57a81b76a"}},{"userInfo":{"userID":"c92814c7-3d16-40c9-a508-fa979914e816","displayName":"娜娜nana\uD83C\uDF80","picture":"D5338D9C-0FE3-4DD5-871F-6D196F5E9BE6.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":93,"meta":{"eventoryKey":"c92814c7-3d16-40c9-a508-fa979914e816"}},{"userInfo":{"userID":"d85e577d-ca49-48c5-92bd-b9d4075b24c9","displayName":"水晶寶貝\uD83C\uDF38","picture":"FA77C3BD-0790-4CE1-A7AA-4874A299A128.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":94,"meta":{"eventoryKey":"d85e577d-ca49-48c5-92bd-b9d4075b24c9"}},{"userInfo":{"userID":"7077fef4-2729-4085-96db-0d3aef31c92d","displayName":"安安安安安\uD83D\uDC37","picture":"1f2d6b42-a584-4418-a885-9436cacdfe4c.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2400,"rank":95,"meta":{"eventoryKey":"7077fef4-2729-4085-96db-0d3aef31c92d"}},{"userInfo":{"userID":"79ae19c3-69aa-4f28-7e46-b9feb284a4dc","displayName":"沫墨\uD83D\uDC44雨甯","picture":"50976790-8DF5-4E01-81FB-F11ABE43459E.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2200,"rank":96,"meta":{"eventoryKey":"79ae19c3-69aa-4f28-7e46-b9feb284a4dc"}},{"userInfo":{"userID":"d6a4c2f9-b91d-442f-9623-a7a0bc2febf7","displayName":"台灣直美","picture":"F5831BD6-3DB4-4BBB-9587-5C242462D0B1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2200,"rank":97,"meta":{"eventoryKey":"d6a4c2f9-b91d-442f-9623-a7a0bc2febf7"}},{"userInfo":{"userID":"ad7ec1a1-f54b-4459-af97-d48150becd96","displayName":"_愛麗絲_","picture":"e5a30de1-0e66-476a-a65d-d54fabf03716.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2200,"rank":98,"meta":{"eventoryKey":"ad7ec1a1-f54b-4459-af97-d48150becd96"}},{"userInfo":{"userID":"8b735ee1-75de-4182-aa4f-37c8b7951642","displayName":"飛小橘","picture":"C5BF0458-1B81-4C36-B897-7F098061EFBA.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2000,"rank":99,"meta":{"eventoryKey":"8b735ee1-75de-4182-aa4f-37c8b7951642"}},{"userInfo":{"userID":"68f5cb22-1615-4e82-b534-c1bef1128856","displayName":"水蜜桃\uD83C\uDF51小Amy","picture":"F595BED4-874D-4C63-BF42-080C8D1CC6BF.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2000,"rank":100,"meta":{"eventoryKey":"68f5cb22-1615-4e82-b534-c1bef1128856"}},{"userInfo":{"userID":"b212788e-a097-46f9-8c21-a81e3ca9ed1a","displayName":"蘿拉lola","picture":"9D7F0C91-C1FD-430E-85A3-CC6BB4A8F26A.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":2000,"rank":101,"meta":{"eventoryKey":"b212788e-a097-46f9-8c21-a81e3ca9ed1a"}},{"userInfo":{"userID":"57283880-713e-4923-9a1b-14a95cec9b81","displayName":"Peggy冰","picture":"112b996d-af47-4510-a320-f21534c7fedc.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1800,"rank":102,"meta":{"eventoryKey":"57283880-713e-4923-9a1b-14a95cec9b81"}},{"userInfo":{"userID":"1d8bcb0f-48f8-4a63-aa6f-71fba7f5b280","displayName":"cherry櫻桃","picture":"69BCDFAB-738C-4BAA-8731-9D7E75279CBA.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1800,"rank":103,"meta":{"eventoryKey":"1d8bcb0f-48f8-4a63-aa6f-71fba7f5b280"}},{"userInfo":{"userID":"a36a676a-7c0b-4892-b474-2e8e25bdb089","displayName":"羊大美美Cindy\uD83D\uDC11","picture":"75E4DCB0-BF51-40A8-906E-169C9E64160C.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1600,"rank":104,"meta":{"eventoryKey":"a36a676a-7c0b-4892-b474-2e8e25bdb089"}},{"userInfo":{"userID":"a6a4ed74-e8ae-4fa0-9682-b20febd3a875","displayName":"開心果樂秀","picture":"7623CBFD-BADA-40D7-A0C5-65139C868D45.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1600,"rank":105,"meta":{"eventoryKey":"a6a4ed74-e8ae-4fa0-9682-b20febd3a875"}},{"userInfo":{"userID":"98ce8d20-c61d-413e-a222-948ce1018bea","displayName":"toby偷比不偷筆","picture":"08EF1818-550E-4DC0-85C1-4A6A257DBC9D.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1400,"rank":106,"meta":{"eventoryKey":"98ce8d20-c61d-413e-a222-948ce1018bea"}},{"userInfo":{"userID":"884a2e6f-2273-43e6-8e7b-8bd466c0206d","displayName":"瑄妞妞\uD83C\uDF38Vivian","picture":"DB8FF175-D475-495D-B65F-DA9096F0F46E.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1200,"rank":107,"meta":{"eventoryKey":"884a2e6f-2273-43e6-8e7b-8bd466c0206d"}},{"userInfo":{"userID":"4f40dc7d-3cbe-4ece-83e1-96a34dc71a3d","displayName":"安安_","picture":"358ef986-86c2-416a-9e2f-ccd427f109ba.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1200,"rank":108,"meta":{"eventoryKey":"4f40dc7d-3cbe-4ece-83e1-96a34dc71a3d"}},{"userInfo":{"userID":"d62adc20-9e6f-4a71-b8bf-f68bae7bda86","displayName":"hello羊羊\uD83D\uDC11","picture":"d35d876d-4ee6-4eb3-b9c8-c796aa3e5de3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1000,"rank":109,"meta":{"eventoryKey":"d62adc20-9e6f-4a71-b8bf-f68bae7bda86"}},{"userInfo":{"userID":"16b47806-1b50-41c1-9c5f-b15aee8e3c5f","displayName":"牙套姐姐","picture":"C8623FE6-0DF6-491C-84AD-A7602686B48B.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":1000,"rank":110,"meta":{"eventoryKey":"16b47806-1b50-41c1-9c5f-b15aee8e3c5f"}},{"userInfo":{"userID":"caecca6b-ebf2-4dde-b557-aaee856c84d2","displayName":"凱兒\uD83C\uDF1FKerry\uD83C\uDF80","picture":"EF4AD103-49FC-400A-9E5E-B9A5028E8DD3.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800,"rank":111,"meta":{"eventoryKey":"caecca6b-ebf2-4dde-b557-aaee856c84d2"}},{"userInfo":{"userID":"f981adf9-4d15-4c5d-bc69-02b53ef42d8c","displayName":"還珠格格_baby","picture":"50E5A8A8-E878-4935-9481-FBB3F2AFC688.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800,"rank":112,"meta":{"eventoryKey":"f981adf9-4d15-4c5d-bc69-02b53ef42d8c"}},{"userInfo":{"userID":"839b8088-93cd-40ea-b473-b2cebed5008c","displayName":"唯Qing","picture":"1013B5A2-C63C-4D97-A6B0-6152C9C42556.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":800,"rank":113,"meta":{"eventoryKey":"839b8088-93cd-40ea-b473-b2cebed5008c"}},{"userInfo":{"userID":"bae9fffc-9483-4b87-93a9-840d57b192db","displayName":"青丘淺淺","picture":"8D3FDBEF-19FA-4AC3-A606-CB11D0E1A2B1.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":600,"rank":114,"meta":{"eventoryKey":"bae9fffc-9483-4b87-93a9-840d57b192db"}},{"userInfo":{"userID":"2d665956-1623-4f3a-9f79-899bae1981eb","displayName":"童童Lynn\uD83C\uDF1F","picture":"FBA50A66-3CE0-4CBB-BD1A-FA5A44BC2075.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400,"rank":115,"meta":{"eventoryKey":"2d665956-1623-4f3a-9f79-899bae1981eb"}},{"userInfo":{"userID":"6b4881da-3897-4665-a2bc-8f221a6b65f2","displayName":"Jamie_瞳瞳","picture":"3b97f138-3a15-4013-ae20-a0ba06af16f8.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400,"rank":116,"meta":{"eventoryKey":"6b4881da-3897-4665-a2bc-8f221a6b65f2"}},{"userInfo":{"userID":"335b255c-360a-4cbc-bbab-49506b16606f","displayName":"小瑜angie","picture":"D4BDAE7F-1CF0-4E38-B8F1-6A72B2E5E4AD.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":400,"rank":117,"meta":{"eventoryKey":"335b255c-360a-4cbc-bbab-49506b16606f"}},{"userInfo":{"userID":"a12f4f80-468d-4abc-946c-801465183179","displayName":"boo_1110","picture":"BB2F45ED-2C44-43CD-B44E-17425E08624D.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200,"rank":118,"meta":{"eventoryKey":"a12f4f80-468d-4abc-946c-801465183179"}},{"userInfo":{"userID":"f42ad793-17ad-4e36-896e-b33e82ca2dfd","displayName":"米奇兒_Mickey姊","picture":"5d1be0de-73dc-41e9-8b89-18ce6a0ee6a0.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200,"rank":119,"meta":{"eventoryKey":"f42ad793-17ad-4e36-896e-b33e82ca2dfd"}},{"userInfo":{"userID":"b78954b7-32b4-4bf0-9dca-33e30cbfda9e","displayName":"樂樂evon","picture":"f1534a58-4f2e-4848-b0be-e71a00a4b902.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200,"rank":120,"meta":{"eventoryKey":"b78954b7-32b4-4bf0-9dca-33e30cbfda9e"}},{"userInfo":{"userID":"d1c2c482-75d6-451a-a233-eb89ace07476","displayName":"小岑兒_Sicen","picture":"D6AD7B74-B39E-4876-8E50-EA1E6EC5B524.jpg","name":"","level":0,"openID":"","region":"TW","gloryroadMode":0},"score":200,"rank":121,"meta":{"eventoryKey":"d1c2c482-75d6-451a-a233-eb89ace07476"}}]}');function n5(){let e=(0,h._)(["\n  padding: 20px 0;\n  background-color: #8585de;\n"]);return n5=function(){return e},e}let n6=v.ZP.div(n5());var n3=y.memo(()=>{let{data:e}=n9;return(0,m.jsxs)("div",{children:[(0,m.jsx)(n6,{children:(0,m.jsx)("p",{children:"url query streamerUserID沒有給值的話會畫面會在這邊"})}),(0,m.jsx)(n2,{dataset:e,itemHeight:80,panelSize:85,children:r=>{var n,a;let{index:t,style:o}=r;return(0,m.jsxs)("div",{style:o,children:[(0,m.jsx)("b",{children:"Streamer User ID:"})," ",null===(n=e[t])||void 0===n?void 0:n.userInfo.userID,(0,m.jsx)("br",{}),"url後面直接接上下面字串重新整理後，點擊scrollToStreamer即可看到效果",(0,m.jsx)("br",{}),(0,m.jsx)("b",{children:"&streamerUserID="}),null===(a=e[t])||void 0===a?void 0:a.userInfo.userID,(0,m.jsx)("br",{})]})}})]})}),n7=()=>{let[e,r]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{r(!0)},[]),e},ae=y.memo(()=>{let e=n7(),[r,n]=(0,y.useState)(!1);return(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{type:"button",onClick:()=>{n(e)},children:"Start Render"}),r?(0,m.jsx)("div",{children:"start render"}):(0,m.jsx)("div",{children:"not start render"})]})}),ar=e=>{let r=(0,y.useCallback)(()=>{let r=new Date(e),n=1e3*(0,x.now)(),a=n-r.getTime()>=0;return a},[e]),[n,a]=(0,y.useState)(r()),t=(0,y.useRef)(0);return(0,y.useEffect)(()=>(t.current=window.setInterval(()=>{let e=r();e&&a(e)},1e3),()=>{clearInterval(t.current)}),[r]),n};let an=e=>{let r=new Date,n=-r.getTimezoneOffset()/60;r.setHours(r.getHours()+n),r.setSeconds(r.getSeconds()+e);let a=n>=0?n<=9?"+0".concat(n.toString(),":00"):"+".concat(n.toString(),":00"):n>=-9?"-0".concat(n.toString(),":00"):"-".concat(n.toString(),":00"),t=r.toISOString().split(".")[0]+a;return t};var aa=y.memo(()=>{let e=(0,y.useRef)(an(10)),r=ar(e.current);return(0,m.jsxs)("div",{children:[(0,m.jsxs)("span",{children:["過期時間(expiredDate) 都是按下此 playground 的時間+10秒，到達設定的過期時間(expiredDate)時會將是否過期(isExpired)狀態從 false 改成 true",(0,m.jsx)("br",{}),"實際上過期時間(expiredDate)為開發者自行定義傳入useExpired，這邊只是方便做 playground 驗證"]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["過期時間(expiredDate): ",e.current]}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["是否過期(isExpired): ",r.toString()]}),(0,m.jsx)("br",{})]})});let at=async e=>{let r=await ro.Z.get("https://webcdn.17app.co/campaign/projects/".concat(e,"/translations.json"));return r.data};var ao=(e,r)=>{let n=(0,y.useRef)(r),[a,t]=(0,y.useState)(new Map),o=(0,y.useCallback)(async r=>{if(e){let n=await at(e);if(n&&n.length>0){let e=new Map;n.forEach(n=>{let{key:a}=n,t=n.values.find(e=>e.language===r),o="";if(t)o=t.value;else{let e=n.values.find(e=>"zh_TW"===e.language);e&&(o=e.value)}e.set(a,o)}),t(e)}}},[e]);return(0,y.useEffect)(()=>{n.current=r},[r]),(0,y.useEffect)(()=>{o(W(n.current))},[o]),a};function ac(){let e=(0,h._)(["\n  margin: 0 0 20px 20px;\n  padding: 5px 10px;\n  width: 500px;\n"]);return ac=function(){return e},e}function al(){let e=(0,h._)(["\n  margin-right: 20px;\n  padding: 5px 10px 5px 0;\n"]);return al=function(){return e},e}let as=v.ZP.input(ac()),ad=v.ZP.input(al());var ai=y.memo(()=>{let[e,r]=(0,y.useState)("12822-golden-feather-5");i.JAPAN;let n=[i.TAIWAN,i.CHINA,i.HONGKONG,i.JAPAN,i.EUROPE,i.ARAB],[a,t]=(0,y.useState)([i.JAPAN]),[o,c]=(0,y.useState)({eventType:"",supportLangs:[]}),l=ao(o.eventType,o.supportLangs),[s,d]=(0,y.useState)(),[u,f]=(0,y.useState)(),p=e=>{let{value:r,checked:n}=e.target;n?t(e=>[r,...e]):t(e=>e.filter(e=>e!==r))};return(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"支援語系: "}),n.map(e=>(0,m.jsxs)("span",{children:[(0,m.jsx)("span",{children:e}),(0,m.jsx)(ad,{type:"checkbox",value:e,onChange:p,checked:a.includes(e)})]},e)),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"eventType："}),(0,m.jsx)(as,{type:"text",value:e,placeholder:"請輸入 eventType",onChange:e=>r(e.target.value)}),(0,m.jsx)("br",{}),(0,m.jsx)("button",{type:"button",onClick:()=>{c({eventType:e,supportLangs:a}),f(""),d("chooseTranslate")},children:"送出"}),(0,m.jsx)("br",{}),(0,m.jsxs)("span",{children:["注意：",(0,m.jsx)("br",{}),"1. 此功能必須在取得eventType的翻譯前先設定好支援語系，取得翻譯後，再去設定支援語系重新送出將不會重新翻譯，除非再次取得其他eventType的翻譯",(0,m.jsx)("br",{}),"2. 如果沒有設定支援語系，則以中文為主",(0,m.jsx)("br",{}),"3. 如果設定多個支援語系，會先看有無URL參數，有的話以URL為主，若無則會以瀏覽器設定的最優先的偏好語言作翻譯",(0,m.jsx)("br",{}),"4. 如果URL參數非支援語系，則顯示支援語系翻譯，若支援語系不在瀏覽器設定中，則顯示中文",(0,m.jsx)("br",{}),"5. 如果設定的支援語系不在瀏覽器設定的偏好語言且無URL參數，則會以中文作為翻譯",(0,m.jsx)("br",{}),"6. URL有帶lang跟支援語系一樣，就算瀏覽器沒有設定，會以URL為主",(0,m.jsx)("br",{}),"7. 以上條件都無法滿足時，則會以中文作為翻譯"]}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"請選擇要翻譯的key: "}),(0,m.jsxs)("select",{name:"translation",id:"translation",value:s,onChange:e=>{let r=e.target.value;d(r),f(l.get(r))},children:[(0,m.jsx)("option",{value:"chooseTranslate",children:"請選擇"}),[...l].map(e=>(0,m.jsx)("option",{value:e[0],children:e[0]},e[0]))]}),(0,m.jsx)("br",{}),(0,m.jsx)("span",{children:"翻譯: "}),(0,m.jsx)("span",{children:u})]})});let au=e=>{let r=C();window.scrollTo(0,0);let n={...r,page:e};q(n)},af=(e,r)=>{let n=r.find(r=>r.key===e.key);if(n)switch(n.type){case d.PAGE:au(n.page);break;case d.CUSTOM:n.fn()}};var ap=e=>{(0,y.useEffect)(()=>{let r=r=>af(r,e);return window.addEventListener("keyup",r),()=>{window.removeEventListener("keyup",r)}},[e])};let ab=()=>{let e;let{page:r}=C();switch(r){case"9":e=()=>(0,m.jsx)("div",{children:"page=9"});break;case"8":e=()=>(0,m.jsx)("div",{children:"page=8"});break;case"7":e=()=>(0,m.jsx)("div",{children:"page=7"});break;case"6":e=()=>(0,m.jsx)("div",{children:"page=6"});break;case"5":e=()=>(0,m.jsx)("div",{children:"page=5"});break;case"4":e=()=>(0,m.jsx)("div",{children:"page=4"});break;case"3":e=()=>(0,m.jsx)("div",{children:"page=3"});break;case"2":e=()=>(0,m.jsxs)("div",{children:["page=2 ",(0,m.jsx)("br",{}),"page=2 會跟 offlineRound 結束 page 衝突，因為 offlineRound 也是設定 page=2，所以要看 offlineRound 結果，需要再按一次該 button"]});break;default:e=()=>(0,m.jsx)("div",{children:"page=1"})}return(0,m.jsx)(e,{})};var ag=()=>{let e=(0,y.useMemo)(()=>{let e=z(1,9),r=[{type:d.CUSTOM,key:"ArrowDown",fn:()=>{let e=C(),r=parseInt(e.page,10);window.scrollTo(0,0);let n={...e,page:r>1?"".concat(r-1):"1"},a=Object.entries(n).map(e=>{let[r,n]=e;return"".concat(r,"=").concat(n)}),t="".concat(A.location.pathname,"?").concat(a.join("&"));A.location.href=t}},{type:d.CUSTOM,key:"ArrowUp",fn:()=>{let e=C();window.scrollTo(0,0);let r={...e,page:!e.page||9>parseInt(e.page,10)?"".concat(parseInt(e.page||1,10)+1):e.page},n=Object.entries(r).map(e=>{let[r,n]=e;return"".concat(r,"=").concat(n)}),a="".concat(A.location.pathname,"?").concat(n.join("&"));A.location.href=a}}],n=[...e,...r];return n},[]);ap(e);let r=n7();return r?(0,m.jsxs)("div",{children:["已將預設讀取頁面從offlineRound改成Keyboard",(0,m.jsx)("br",{}),"預設支援1~9數字鍵，以及鍵盤左(頁數-1)右(頁數+1)，頁數範圍1~9",(0,m.jsx)("br",{}),"鍵盤左(頁數-1)右(頁數+1)超過範圍將停留在原本頁面",(0,m.jsx)("br",{}),"其他按鍵都需要外部傳入fn",(0,m.jsx)("br",{}),"此playground有外部傳入鍵盤下(頁數-1)上(頁數+1)fn切換前後頁，頁數範圍是1~9",(0,m.jsx)("br",{}),"鍵盤下(頁數-1)上(頁數+1)超過範圍將停留在原本頁面",(0,m.jsx)("br",{}),"無在設定鍵盤按鍵內的事件將被忽略",(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),ab()]}):(0,m.jsx)("div",{children:"Loading..."})};function am(){let e=(0,h._)(["\n  padding: 20px 0;\n  background-color: #8585de;\n"]);return am=function(){return e},e}v.ZP.div(am());let{data:ay}=n9;var ah=y.memo(()=>{let[e,r]=(0,y.useState)(ay),[n,a]=(0,y.useState)(JSON.stringify(ay,void 0,2)),[t,o]=(0,y.useState)([["Lang","lang"],["Age","age"]]),c=(0,y.useCallback)(()=>{let e=[];try{e=JSON.parse(n)}catch(e){console.log("json parse error")}return e},[n]),l=(e,r)=>{let n=[...t];n[r][0]=e.target.value,o(n)},s=(e,r)=>{let n=[...t];n[r][1]=e.target.value,o(n)};return(0,m.jsxs)("div",{children:[(0,m.jsx)("textarea",{cols:100,rows:40,value:n,onChange:e=>{a(e.target.value)}}),(0,m.jsx)("button",{type:"button",onClick:()=>Q(c(),t.map(e=>({name:e[0],filterFunction:r=>r[e[1]]}))),children:"copy !"}),(0,m.jsx)("div",{children:"Add extra data"}),t.map((e,r)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("input",{type:"text",value:e[0]||"",onChange:e=>{l(e,r)}}),(0,m.jsx)("input",{type:"text",value:e[1]||"",onChange:e=>{s(e,r)}}),(0,m.jsx)("br",{})]})),(0,m.jsx)("button",{type:"button",onClick:()=>{o(e=>[...e,[]])},children:"new one"})]})}),av=n(192),ax=n(4487),aD=n(7976),aI=()=>{(0,y.useEffect)(()=>{av.S({dsn:"https://8526f3bd6d3a4abcac1b3fdcbc06b416@o998499.ingest.sentry.io/6547346",integrations:[new aD.gE],tracesSampleRate:1}),ax.e(e=>{e.setTag("product","eventory/custom")})},[])},aj=y.memo(()=>(aI(),(0,m.jsxs)("div",{children:[(0,m.jsxs)("h3",{children:["useSentry can record error in"," ",(0,m.jsx)("a",{href:"https://sentry.io/organizations/17live/issues/?referrer=sidebar",children:"sentry dashboard"})," ",'filter by product tag `"`eventory/custom`"`.']}),(0,m.jsx)("p",{children:"Following button will trigger error and send it to sentry."}),(0,m.jsx)("button",{type:"button",onClick:()=>console.log(nonExistVariable),children:"trigger error button"})]}))),aA=y.memo(()=>{let[e,r]=(0,y.useState)("Keyboard"),n=e=>r(e),a={offlineRound:(0,m.jsx)(eS,{}),luckyDraw:(0,m.jsx)(rt,{}),offlineTeamRound:(0,m.jsx)(eU,{}),typeApi:(0,m.jsx)(rq,{}),typeApi2:(0,m.jsx)(nn,{}),filter:(0,m.jsx)(nf,{}),follower:(0,m.jsx)(nj,{}),score:(0,m.jsx)(nE,{}),scratchOff:(0,m.jsx)(nZ,{}),utils:(0,m.jsx)(nq,{}),ScrollToLoading:(0,m.jsx)(n$,{}),ScrollToStreamer:(0,m.jsx)(n3,{}),StartRender:(0,m.jsx)(ae,{}),Expired:(0,m.jsx)(aa,{}),Translation:(0,m.jsx)(ai,{}),Keyboard:(0,m.jsx)(ag,{}),Copy:(0,m.jsx)(ah,{}),Sentry:(0,m.jsx)(aj,{})};return(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("p",{children:"react 18 選擇範例:"}),Object.keys(a).map(e=>(0,m.jsx)("button",{type:"button",onClick:()=>n(e),children:e},e))]}),(0,m.jsx)("hr",{}),a[e]]})}),aC=()=>(0,m.jsx)(aA,{})}},function(e){e.O(0,[774,627,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);